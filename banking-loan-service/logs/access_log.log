2024-09-26T08:28:15.472+07:00  INFO 7299 --- [banking-loan-service] [main] c.a.b.BankingLoanServiceApplication      : Starting BankingLoanServiceApplication using Java 21.0.4 with PID 7299 (/home/admin-klb/Dropbox/Project/Bank Account Management System Project/microservices-core-banking/banking-loan-service/build/classes/java/main started by admin-klb in /home/admin-klb/Dropbox/Project/Bank Account Management System Project/microservices-core-banking/banking-loan-service)
2024-09-26T08:28:15.483+07:00  INFO 7299 --- [banking-loan-service] [main] c.a.b.BankingLoanServiceApplication      : No active profile set, falling back to 1 default profile: "default"
2024-09-26T08:28:16.265+07:00  INFO 7299 --- [banking-loan-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-09-26T08:28:16.424+07:00  INFO 7299 --- [banking-loan-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 147 ms. Found 4 JPA repository interfaces.
2024-09-26T08:28:16.568+07:00  INFO 7299 --- [banking-loan-service] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=75466fc8-7683-3ccd-a16e-070df22011a1
2024-09-26T08:28:16.880+07:00  INFO 7299 --- [banking-loan-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-09-26T08:28:16.888+07:00  INFO 7299 --- [banking-loan-service] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-09-26T08:28:16.888+07:00  INFO 7299 --- [banking-loan-service] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.28]
2024-09-26T08:28:16.959+07:00  INFO 7299 --- [banking-loan-service] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-09-26T08:28:16.959+07:00  INFO 7299 --- [banking-loan-service] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1424 ms
2024-09-26T08:28:16.986+07:00 DEBUG 7299 --- [banking-loan-service] [main] o.s.w.f.CommonsRequestLoggingFilter      : Filter 'logFilter' configured for use
2024-09-26T08:28:17.060+07:00  INFO 7299 --- [banking-loan-service] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-09-26T08:28:17.126+07:00  INFO 7299 --- [banking-loan-service] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2024-09-26T08:28:17.152+07:00  INFO 7299 --- [banking-loan-service] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-09-26T08:28:17.447+07:00  INFO 7299 --- [banking-loan-service] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-09-26T08:28:17.466+07:00  INFO 7299 --- [banking-loan-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-09-26T08:28:17.822+07:00  INFO 7299 --- [banking-loan-service] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6f4fc83f
2024-09-26T08:28:17.824+07:00  INFO 7299 --- [banking-loan-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-09-26T08:28:18.817+07:00  INFO 7299 --- [banking-loan-service] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-09-26T08:28:19.194+07:00  INFO 7299 --- [banking-loan-service] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-09-26T08:28:19.602+07:00  INFO 7299 --- [banking-loan-service] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-09-26T08:28:20.118+07:00  WARN 7299 --- [banking-loan-service] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-09-26T08:28:20.396+07:00  INFO 7299 --- [banking-loan-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-09-26T08:28:20.427+07:00  INFO 7299 --- [banking-loan-service] [main] c.a.b.BankingLoanServiceApplication      : Started BankingLoanServiceApplication in 5.276 seconds (process running for 6.217)
2024-09-26T08:29:42.657+07:00  INFO 7299 --- [banking-loan-service] [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-09-26T08:29:42.658+07:00  INFO 7299 --- [banking-loan-service] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-09-26T08:29:42.660+07:00  INFO 7299 --- [banking-loan-service] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-09-26T08:29:42.702+07:00 DEBUG 7299 --- [banking-loan-service] [http-nio-8080-exec-2] o.s.w.f.CommonsRequestLoggingFilter      : Before request [POST /loan-applications, client=0:0:0:0:0:0:0:1, headers=[user-agent:"PostmanRuntime/7.42.0", accept:"*/*", postman-token:"ae5de6c4-1aee-4af6-a3ca-84ad5700e0ad", host:"localhost:8080", accept-encoding:"gzip, deflate, br", connection:"keep-alive", content-length:"25150", Content-Type:"multipart/form-data;boundary=--------------------------342458472919007123834182;charset=UTF-8"]]
2024-09-26T08:29:42.921+07:00  INFO 7299 --- [banking-loan-service] [http-nio-8080-exec-2] c.a.b.s.impl.LoanApplicationServiceImpl  : LoanApplicationRequestDto: LoanApplicationRequestDto(customerId=1, accountId=1, monthlyIncome=3000000, occupation=Engineer, loanTypeId=1, desiredLoanAmount=50000000, desiredLoanTermMonths=12, repaymentMethod=EQUAL_INSTALLMENTS, desiredDisbursementDate=2024-10-01, interestRateType=FIXED, loanPurpose=Home renovation, collateralDto=com.app.bankingloanservice.dto.CollateralDto@2f1c33d2, documentUploadDto=com.app.bankingloanservice.dto.DocumentUploadDto@6e0740f0)
2024-09-26T08:29:43.131+07:00  INFO 7299 --- [banking-loan-service] [http-nio-8080-exec-2] c.a.b.s.impl.LoanApplicationServiceImpl  : LoanApplication entity is converted from DTO and LoanType updated: LoanApplication(loanApplicationId=null, customerId=1, accountId=1, monthlyIncome=3000000, occupation=Engineer, loanType=LoanType(loanTypeId=1, loanTypeName=Vay nhu cầu nhà ở, annualInterestRate=7.50, pastDueInterestRate=10.00, latePaymentInterestRate=12.00, prepaymentPenaltyRate=2.00, maxLoanAmount=1000000000, maxLoanTermMonths=240, requiresCollateral=true, reviewTimeDays=5, description=Khoản vay dùng để mua nhà ở, hỗ trợ người vay trong việc có được ngôi nhà mơ ước., isActive=true, loanApplications=[], loans=[]), desiredLoanAmount=50000000, desiredLoanTermMonths=12, repaymentMethod=EQUAL_INSTALLMENTS, desiredDisbursementDate=2024-10-01, interestRateType=FIXED, loanPurpose=Home renovation, creditScore=null, applicationStatus=PENDING, submissionDate=2024-09-26, reviewDueDate=null, reviewDate=null, reviewNotes=null, loan=null, documents=null, collateral=null)
2024-09-26T08:29:43.267+07:00 ERROR 7299 --- [banking-loan-service] [http-nio-8080-exec-2] c.a.b.service.impl.DocumentServiceImpl   : Failed to store file: java.io.FileNotFoundException: /tmp/tomcat.8080.4963481815093711531/work/Tomcat/localhost/ROOT/banking-loan-docs/1727314183265_schema.sql (No such file or directory)
2024-09-26T08:29:43.267+07:00 ERROR 7299 --- [banking-loan-service] [http-nio-8080-exec-2] c.a.b.s.impl.LoanApplicationServiceImpl  : Error saving application document: Failed to store file 1727314183265_schema.sql
2024-09-26T08:29:43.280+07:00 ERROR 7299 --- [banking-loan-service] [http-nio-8080-exec-2] c.a.b.exception.GlobalExceptionHandler   : Invalid document: Error saving application document: Failed to store file 1727314183265_schema.sql

com.app.bankingloanservice.exception.InvalidDocumentException: Error saving application document: Failed to store file 1727314183265_schema.sql
	at com.app.bankingloanservice.service.impl.LoanApplicationServiceImpl.createLoanApplication(LoanApplicationServiceImpl.java:64) ~[main/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355) ~[spring-aop-6.1.12.jar:6.1.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.1.12.jar:6.1.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.1.12.jar:6.1.12]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768) ~[spring-aop-6.1.12.jar:6.1.12]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:379) ~[spring-tx-6.1.12.jar:6.1.12]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.1.12.jar:6.1.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.12.jar:6.1.12]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768) ~[spring-aop-6.1.12.jar:6.1.12]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720) ~[spring-aop-6.1.12.jar:6.1.12]
	at com.app.bankingloanservice.service.impl.LoanApplicationServiceImpl$$SpringCGLIB$$0.createLoanApplication(<generated>) ~[main/:na]
	at com.app.bankingloanservice.controller.LoanApplicationController.createLoanApplication(LoanApplicationController.java:85) ~[main/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255) ~[spring-web-6.1.12.jar:6.1.12]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188) ~[spring-web-6.1.12.jar:6.1.12]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.12.jar:6.1.12]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926) ~[spring-webmvc-6.1.12.jar:6.1.12]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831) ~[spring-webmvc-6.1.12.jar:6.1.12]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.12.jar:6.1.12]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.12.jar:6.1.12]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.12.jar:6.1.12]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.12.jar:6.1.12]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.1.12.jar:6.1.12]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.28.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.12.jar:6.1.12]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.28.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.springframework.web.filter.AbstractRequestLoggingFilter.doFilterInternal(AbstractRequestLoggingFilter.java:289) ~[spring-web-6.1.12.jar:6.1.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.12.jar:6.1.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.12.jar:6.1.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.12.jar:6.1.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.12.jar:6.1.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.12.jar:6.1.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.12.jar:6.1.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.12.jar:6.1.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2024-09-26T08:29:43.363+07:00 DEBUG 7299 --- [banking-loan-service] [http-nio-8080-exec-2] o.s.w.f.CommonsRequestLoggingFilter      : REQUEST DATA : POST /loan-applications, client=0:0:0:0:0:0:0:1, headers=[user-agent:"PostmanRuntime/7.42.0", accept:"*/*", postman-token:"ae5de6c4-1aee-4af6-a3ca-84ad5700e0ad", host:"localhost:8080", accept-encoding:"gzip, deflate, br", connection:"keep-alive", content-length:"25150", Content-Type:"multipart/form-data;boundary=--------------------------342458472919007123834182;charset=UTF-8"]]
2024-09-26T08:35:27.731+07:00  INFO 8917 --- [banking-loan-service] [main] c.a.b.BankingLoanServiceApplication      : Starting BankingLoanServiceApplication using Java 21.0.4 with PID 8917 (/home/admin-klb/Dropbox/Project/Bank Account Management System Project/microservices-core-banking/banking-loan-service/build/classes/java/main started by admin-klb in /home/admin-klb/Dropbox/Project/Bank Account Management System Project/microservices-core-banking/banking-loan-service)
2024-09-26T08:35:27.733+07:00  INFO 8917 --- [banking-loan-service] [main] c.a.b.BankingLoanServiceApplication      : No active profile set, falling back to 1 default profile: "default"
2024-09-26T08:35:28.415+07:00  INFO 8917 --- [banking-loan-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-09-26T08:35:28.543+07:00  INFO 8917 --- [banking-loan-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 123 ms. Found 4 JPA repository interfaces.
2024-09-26T08:35:28.632+07:00  INFO 8917 --- [banking-loan-service] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=75466fc8-7683-3ccd-a16e-070df22011a1
2024-09-26T08:35:28.892+07:00  INFO 8917 --- [banking-loan-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-09-26T08:35:28.900+07:00  INFO 8917 --- [banking-loan-service] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-09-26T08:35:28.900+07:00  INFO 8917 --- [banking-loan-service] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.28]
2024-09-26T08:35:28.952+07:00  INFO 8917 --- [banking-loan-service] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-09-26T08:35:28.953+07:00  INFO 8917 --- [banking-loan-service] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1193 ms
2024-09-26T08:35:28.977+07:00 DEBUG 8917 --- [banking-loan-service] [main] o.s.w.f.CommonsRequestLoggingFilter      : Filter 'logFilter' configured for use
2024-09-26T08:35:29.041+07:00  INFO 8917 --- [banking-loan-service] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-09-26T08:35:29.091+07:00  INFO 8917 --- [banking-loan-service] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2024-09-26T08:35:29.114+07:00  INFO 8917 --- [banking-loan-service] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-09-26T08:35:29.337+07:00  INFO 8917 --- [banking-loan-service] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-09-26T08:35:29.354+07:00  INFO 8917 --- [banking-loan-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-09-26T08:35:29.610+07:00  INFO 8917 --- [banking-loan-service] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4ebd8d2
2024-09-26T08:35:29.612+07:00  INFO 8917 --- [banking-loan-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-09-26T08:35:30.331+07:00  INFO 8917 --- [banking-loan-service] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-09-26T08:35:30.624+07:00  INFO 8917 --- [banking-loan-service] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-09-26T08:35:30.845+07:00  INFO 8917 --- [banking-loan-service] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-09-26T08:35:31.212+07:00  WARN 8917 --- [banking-loan-service] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-09-26T08:35:31.449+07:00  INFO 8917 --- [banking-loan-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-09-26T08:35:31.481+07:00  INFO 8917 --- [banking-loan-service] [main] c.a.b.BankingLoanServiceApplication      : Started BankingLoanServiceApplication in 4.087 seconds (process running for 4.961)
2024-09-26T08:35:52.371+07:00  INFO 8917 --- [banking-loan-service] [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-09-26T08:35:52.371+07:00  INFO 8917 --- [banking-loan-service] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-09-26T08:35:52.373+07:00  INFO 8917 --- [banking-loan-service] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-09-26T08:35:52.392+07:00 DEBUG 8917 --- [banking-loan-service] [http-nio-8080-exec-2] o.s.w.f.CommonsRequestLoggingFilter      : Before request [POST /loan-applications, client=0:0:0:0:0:0:0:1, headers=[user-agent:"PostmanRuntime/7.42.0", accept:"*/*", postman-token:"62960c61-9b1c-49d8-81c7-803e9cb9f88b", host:"localhost:8080", accept-encoding:"gzip, deflate, br", connection:"keep-alive", content-length:"25150", Content-Type:"multipart/form-data;boundary=--------------------------966307767894154617557000;charset=UTF-8"]]
2024-09-26T08:35:52.529+07:00  INFO 8917 --- [banking-loan-service] [http-nio-8080-exec-2] c.a.b.s.impl.LoanApplicationServiceImpl  : LoanApplicationRequestDto: LoanApplicationRequestDto(customerId=1, accountId=1, monthlyIncome=3000000, occupation=Engineer, loanTypeId=1, desiredLoanAmount=50000000, desiredLoanTermMonths=12, repaymentMethod=EQUAL_INSTALLMENTS, desiredDisbursementDate=2024-10-01, interestRateType=FIXED, loanPurpose=Home renovation, collateralDto=com.app.bankingloanservice.dto.CollateralDto@32f8a7aa, documentUploadDto=com.app.bankingloanservice.dto.DocumentUploadDto@eb92390)
2024-09-26T08:35:52.641+07:00  INFO 8917 --- [banking-loan-service] [http-nio-8080-exec-2] c.a.b.s.impl.LoanApplicationServiceImpl  : LoanApplication entity is converted from DTO and LoanType updated: LoanApplication(loanApplicationId=null, customerId=1, accountId=1, monthlyIncome=3000000, occupation=Engineer, loanType=LoanType(loanTypeId=1, loanTypeName=Vay nhu cầu nhà ở, annualInterestRate=7.50, pastDueInterestRate=10.00, latePaymentInterestRate=12.00, prepaymentPenaltyRate=2.00, maxLoanAmount=1000000000, maxLoanTermMonths=240, requiresCollateral=true, reviewTimeDays=5, description=Khoản vay dùng để mua nhà ở, hỗ trợ người vay trong việc có được ngôi nhà mơ ước., isActive=true, loanApplications=[], loans=[]), desiredLoanAmount=50000000, desiredLoanTermMonths=12, repaymentMethod=EQUAL_INSTALLMENTS, desiredDisbursementDate=2024-10-01, interestRateType=FIXED, loanPurpose=Home renovation, creditScore=null, applicationStatus=PENDING, submissionDate=2024-09-26, reviewDueDate=null, reviewDate=null, reviewNotes=null, loan=null, documents=null, collateral=null)
2024-09-26T08:35:52.717+07:00 ERROR 8917 --- [banking-loan-service] [http-nio-8080-exec-2] c.a.b.service.impl.DocumentServiceImpl   : Invalid loan application ID: 1
2024-09-26T08:35:52.717+07:00 ERROR 8917 --- [banking-loan-service] [http-nio-8080-exec-2] c.a.b.s.impl.LoanApplicationServiceImpl  : Error saving application document: Invalid loan application ID
2024-09-26T08:35:52.724+07:00 ERROR 8917 --- [banking-loan-service] [http-nio-8080-exec-2] c.a.b.exception.GlobalExceptionHandler   : Invalid document: Error saving application document: Invalid loan application ID

com.app.bankingloanservice.exception.InvalidDocumentException: Error saving application document: Invalid loan application ID
	at com.app.bankingloanservice.service.impl.LoanApplicationServiceImpl.createLoanApplication(LoanApplicationServiceImpl.java:64) ~[main/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355) ~[spring-aop-6.1.12.jar:6.1.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.1.12.jar:6.1.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.1.12.jar:6.1.12]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768) ~[spring-aop-6.1.12.jar:6.1.12]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:379) ~[spring-tx-6.1.12.jar:6.1.12]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.1.12.jar:6.1.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.12.jar:6.1.12]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768) ~[spring-aop-6.1.12.jar:6.1.12]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720) ~[spring-aop-6.1.12.jar:6.1.12]
	at com.app.bankingloanservice.service.impl.LoanApplicationServiceImpl$$SpringCGLIB$$0.createLoanApplication(<generated>) ~[main/:na]
	at com.app.bankingloanservice.controller.LoanApplicationController.createLoanApplication(LoanApplicationController.java:85) ~[main/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255) ~[spring-web-6.1.12.jar:6.1.12]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188) ~[spring-web-6.1.12.jar:6.1.12]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.12.jar:6.1.12]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926) ~[spring-webmvc-6.1.12.jar:6.1.12]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831) ~[spring-webmvc-6.1.12.jar:6.1.12]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.12.jar:6.1.12]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.12.jar:6.1.12]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.12.jar:6.1.12]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.12.jar:6.1.12]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.1.12.jar:6.1.12]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.28.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.12.jar:6.1.12]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.28.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.springframework.web.filter.AbstractRequestLoggingFilter.doFilterInternal(AbstractRequestLoggingFilter.java:289) ~[spring-web-6.1.12.jar:6.1.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.12.jar:6.1.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.12.jar:6.1.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.12.jar:6.1.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.12.jar:6.1.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.12.jar:6.1.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.12.jar:6.1.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.12.jar:6.1.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2024-09-26T08:35:52.754+07:00 DEBUG 8917 --- [banking-loan-service] [http-nio-8080-exec-2] o.s.w.f.CommonsRequestLoggingFilter      : REQUEST DATA : POST /loan-applications, client=0:0:0:0:0:0:0:1, headers=[user-agent:"PostmanRuntime/7.42.0", accept:"*/*", postman-token:"62960c61-9b1c-49d8-81c7-803e9cb9f88b", host:"localhost:8080", accept-encoding:"gzip, deflate, br", connection:"keep-alive", content-length:"25150", Content-Type:"multipart/form-data;boundary=--------------------------966307767894154617557000;charset=UTF-8"]]
2024-09-26T08:49:22.134+07:00  INFO 10715 --- [banking-loan-service] [main] c.a.b.BankingLoanServiceApplication      : Starting BankingLoanServiceApplication using Java 21.0.4 with PID 10715 (/home/admin-klb/Dropbox/Project/Bank Account Management System Project/microservices-core-banking/banking-loan-service/build/classes/java/main started by admin-klb in /home/admin-klb/Dropbox/Project/Bank Account Management System Project/microservices-core-banking/banking-loan-service)
2024-09-26T08:49:22.137+07:00  INFO 10715 --- [banking-loan-service] [main] c.a.b.BankingLoanServiceApplication      : No active profile set, falling back to 1 default profile: "default"
2024-09-26T08:49:22.833+07:00  INFO 10715 --- [banking-loan-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-09-26T08:49:22.884+07:00  INFO 10715 --- [banking-loan-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 44 ms. Found 4 JPA repository interfaces.
2024-09-26T08:49:22.988+07:00  INFO 10715 --- [banking-loan-service] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=75466fc8-7683-3ccd-a16e-070df22011a1
2024-09-26T08:49:23.306+07:00  INFO 10715 --- [banking-loan-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-09-26T08:49:23.317+07:00  INFO 10715 --- [banking-loan-service] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-09-26T08:49:23.317+07:00  INFO 10715 --- [banking-loan-service] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.28]
2024-09-26T08:49:23.372+07:00  INFO 10715 --- [banking-loan-service] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-09-26T08:49:23.373+07:00  INFO 10715 --- [banking-loan-service] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1206 ms
2024-09-26T08:49:23.410+07:00 DEBUG 10715 --- [banking-loan-service] [main] o.s.w.f.CommonsRequestLoggingFilter      : Filter 'logFilter' configured for use
2024-09-26T08:49:23.493+07:00  INFO 10715 --- [banking-loan-service] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-09-26T08:49:23.536+07:00  INFO 10715 --- [banking-loan-service] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2024-09-26T08:49:23.555+07:00  INFO 10715 --- [banking-loan-service] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-09-26T08:49:23.774+07:00  INFO 10715 --- [banking-loan-service] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-09-26T08:49:23.791+07:00  INFO 10715 --- [banking-loan-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-09-26T08:49:24.245+07:00  INFO 10715 --- [banking-loan-service] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@360a3106
2024-09-26T08:49:24.248+07:00  INFO 10715 --- [banking-loan-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-09-26T08:49:25.075+07:00  INFO 10715 --- [banking-loan-service] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-09-26T08:49:25.548+07:00  INFO 10715 --- [banking-loan-service] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-09-26T08:49:25.805+07:00  INFO 10715 --- [banking-loan-service] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-09-26T08:49:26.134+07:00  WARN 10715 --- [banking-loan-service] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-09-26T08:49:26.510+07:00  INFO 10715 --- [banking-loan-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-09-26T08:49:26.573+07:00  INFO 10715 --- [banking-loan-service] [main] c.a.b.BankingLoanServiceApplication      : Started BankingLoanServiceApplication in 4.863 seconds (process running for 5.376)
2024-09-26T08:49:41.833+07:00  INFO 10715 --- [banking-loan-service] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-09-26T08:49:41.834+07:00  INFO 10715 --- [banking-loan-service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-09-26T08:49:41.835+07:00  INFO 10715 --- [banking-loan-service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-09-26T08:49:41.851+07:00 DEBUG 10715 --- [banking-loan-service] [http-nio-8080-exec-1] o.s.w.f.CommonsRequestLoggingFilter      : Before request [POST /loan-applications, client=0:0:0:0:0:0:0:1, headers=[user-agent:"PostmanRuntime/7.42.0", accept:"*/*", postman-token:"b7a6bcaa-f53c-46bd-83d2-52e83a6f4bda", host:"localhost:8080", accept-encoding:"gzip, deflate, br", connection:"keep-alive", content-length:"25150", Content-Type:"multipart/form-data;boundary=--------------------------269635084524416912692899;charset=UTF-8"]]
2024-09-26T08:49:41.993+07:00  INFO 10715 --- [banking-loan-service] [http-nio-8080-exec-1] c.a.b.s.impl.LoanApplicationServiceImpl  : LoanApplicationRequestDto: LoanApplicationRequestDto(customerId=1, accountId=1, monthlyIncome=3000000, occupation=Engineer, loanTypeId=1, desiredLoanAmount=50000000, desiredLoanTermMonths=12, repaymentMethod=EQUAL_INSTALLMENTS, desiredDisbursementDate=2024-10-01, interestRateType=FIXED, loanPurpose=Home renovation, collateralDto=com.app.bankingloanservice.dto.CollateralDto@ca85fe6, documentUploadDto=com.app.bankingloanservice.dto.DocumentUploadDto@6e70e189)
2024-09-26T08:49:42.098+07:00  INFO 10715 --- [banking-loan-service] [http-nio-8080-exec-1] c.a.b.s.impl.LoanApplicationServiceImpl  : LoanApplication entity is converted from DTO and LoanType updated: LoanApplication(loanApplicationId=null, customerId=1, accountId=1, monthlyIncome=3000000, occupation=Engineer, loanType=LoanType(loanTypeId=1, loanTypeName=Vay nhu cầu nhà ở, annualInterestRate=7.50, pastDueInterestRate=10.00, latePaymentInterestRate=12.00, prepaymentPenaltyRate=2.00, maxLoanAmount=1000000000, maxLoanTermMonths=240, requiresCollateral=true, reviewTimeDays=5, description=Khoản vay dùng để mua nhà ở, hỗ trợ người vay trong việc có được ngôi nhà mơ ước., isActive=true, loanApplications=[], loans=[]), desiredLoanAmount=50000000, desiredLoanTermMonths=12, repaymentMethod=EQUAL_INSTALLMENTS, desiredDisbursementDate=2024-10-01, interestRateType=FIXED, loanPurpose=Home renovation, creditScore=null, applicationStatus=PENDING, submissionDate=2024-09-26, reviewDueDate=null, reviewDate=null, reviewNotes=null, loan=null, documents=null, collateral=null)
2024-09-26T08:49:42.172+07:00  INFO 10715 --- [banking-loan-service] [http-nio-8080-exec-1] c.a.b.s.impl.LoanApplicationServiceImpl  : LoanApplication entity has been saved: LoanApplication(loanApplicationId=3, customerId=1, accountId=1, monthlyIncome=3000000, occupation=Engineer, loanType=LoanType(loanTypeId=1, loanTypeName=Vay nhu cầu nhà ở, annualInterestRate=7.50, pastDueInterestRate=10.00, latePaymentInterestRate=12.00, prepaymentPenaltyRate=2.00, maxLoanAmount=1000000000, maxLoanTermMonths=240, requiresCollateral=true, reviewTimeDays=5, description=Khoản vay dùng để mua nhà ở, hỗ trợ người vay trong việc có được ngôi nhà mơ ước., isActive=true, loanApplications=[], loans=[]), desiredLoanAmount=50000000, desiredLoanTermMonths=12, repaymentMethod=EQUAL_INSTALLMENTS, desiredDisbursementDate=2024-10-01, interestRateType=FIXED, loanPurpose=Home renovation, creditScore=null, applicationStatus=PENDING, submissionDate=2024-09-26, reviewDueDate=null, reviewDate=null, reviewNotes=null, loan=null, documents=null, collateral=null)
2024-09-26T08:49:42.180+07:00 ERROR 10715 --- [banking-loan-service] [http-nio-8080-exec-1] c.a.b.service.impl.DocumentServiceImpl   : Invalid loan application ID: 1
2024-09-26T08:49:42.181+07:00 ERROR 10715 --- [banking-loan-service] [http-nio-8080-exec-1] c.a.b.s.impl.LoanApplicationServiceImpl  : Error saving application document: Invalid loan application ID
2024-09-26T08:49:42.187+07:00 ERROR 10715 --- [banking-loan-service] [http-nio-8080-exec-1] c.a.b.exception.GlobalExceptionHandler   : Invalid document: Error saving application document: Invalid loan application ID

com.app.bankingloanservice.exception.InvalidDocumentException: Error saving application document: Invalid loan application ID
	at com.app.bankingloanservice.service.impl.LoanApplicationServiceImpl.createLoanApplication(LoanApplicationServiceImpl.java:65) ~[main/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355) ~[spring-aop-6.1.12.jar:6.1.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.1.12.jar:6.1.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.1.12.jar:6.1.12]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768) ~[spring-aop-6.1.12.jar:6.1.12]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:379) ~[spring-tx-6.1.12.jar:6.1.12]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.1.12.jar:6.1.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.12.jar:6.1.12]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768) ~[spring-aop-6.1.12.jar:6.1.12]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720) ~[spring-aop-6.1.12.jar:6.1.12]
	at com.app.bankingloanservice.service.impl.LoanApplicationServiceImpl$$SpringCGLIB$$0.createLoanApplication(<generated>) ~[main/:na]
	at com.app.bankingloanservice.controller.LoanApplicationController.createLoanApplication(LoanApplicationController.java:85) ~[main/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255) ~[spring-web-6.1.12.jar:6.1.12]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188) ~[spring-web-6.1.12.jar:6.1.12]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.12.jar:6.1.12]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926) ~[spring-webmvc-6.1.12.jar:6.1.12]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831) ~[spring-webmvc-6.1.12.jar:6.1.12]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.12.jar:6.1.12]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.12.jar:6.1.12]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.12.jar:6.1.12]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.12.jar:6.1.12]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.1.12.jar:6.1.12]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.28.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.12.jar:6.1.12]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.28.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.springframework.web.filter.AbstractRequestLoggingFilter.doFilterInternal(AbstractRequestLoggingFilter.java:289) ~[spring-web-6.1.12.jar:6.1.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.12.jar:6.1.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.12.jar:6.1.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.12.jar:6.1.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.12.jar:6.1.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.12.jar:6.1.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.12.jar:6.1.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.12.jar:6.1.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2024-09-26T08:49:42.212+07:00 DEBUG 10715 --- [banking-loan-service] [http-nio-8080-exec-1] o.s.w.f.CommonsRequestLoggingFilter      : REQUEST DATA : POST /loan-applications, client=0:0:0:0:0:0:0:1, headers=[user-agent:"PostmanRuntime/7.42.0", accept:"*/*", postman-token:"b7a6bcaa-f53c-46bd-83d2-52e83a6f4bda", host:"localhost:8080", accept-encoding:"gzip, deflate, br", connection:"keep-alive", content-length:"25150", Content-Type:"multipart/form-data;boundary=--------------------------269635084524416912692899;charset=UTF-8"]]
2024-09-26T08:54:01.626+07:00  INFO 10715 --- [banking-loan-service] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-09-26T08:54:01.653+07:00  INFO 10715 --- [banking-loan-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-09-26T08:54:01.724+07:00  INFO 10715 --- [banking-loan-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-09-26T08:54:10.330+07:00  INFO 11246 --- [banking-loan-service] [main] c.a.b.BankingLoanServiceApplication      : Starting BankingLoanServiceApplication using Java 21.0.4 with PID 11246 (/home/admin-klb/Dropbox/Project/Bank Account Management System Project/microservices-core-banking/banking-loan-service/build/classes/java/main started by admin-klb in /home/admin-klb/Dropbox/Project/Bank Account Management System Project/microservices-core-banking/banking-loan-service)
2024-09-26T08:54:10.333+07:00  INFO 11246 --- [banking-loan-service] [main] c.a.b.BankingLoanServiceApplication      : No active profile set, falling back to 1 default profile: "default"
2024-09-26T08:54:10.959+07:00  INFO 11246 --- [banking-loan-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-09-26T08:54:11.104+07:00  INFO 11246 --- [banking-loan-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 138 ms. Found 4 JPA repository interfaces.
2024-09-26T08:54:11.245+07:00  INFO 11246 --- [banking-loan-service] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=75466fc8-7683-3ccd-a16e-070df22011a1
2024-09-26T08:54:11.584+07:00  INFO 11246 --- [banking-loan-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-09-26T08:54:11.593+07:00  INFO 11246 --- [banking-loan-service] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-09-26T08:54:11.594+07:00  INFO 11246 --- [banking-loan-service] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.28]
2024-09-26T08:54:11.624+07:00  INFO 11246 --- [banking-loan-service] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-09-26T08:54:11.625+07:00  INFO 11246 --- [banking-loan-service] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1245 ms
2024-09-26T08:54:11.669+07:00 DEBUG 11246 --- [banking-loan-service] [main] o.s.w.f.CommonsRequestLoggingFilter      : Filter 'logFilter' configured for use
2024-09-26T08:54:11.730+07:00  INFO 11246 --- [banking-loan-service] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-09-26T08:54:11.779+07:00  INFO 11246 --- [banking-loan-service] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2024-09-26T08:54:11.808+07:00  INFO 11246 --- [banking-loan-service] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-09-26T08:54:12.028+07:00  INFO 11246 --- [banking-loan-service] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-09-26T08:54:12.055+07:00  INFO 11246 --- [banking-loan-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-09-26T08:54:12.371+07:00  INFO 11246 --- [banking-loan-service] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@24435620
2024-09-26T08:54:12.373+07:00  INFO 11246 --- [banking-loan-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-09-26T08:54:13.172+07:00  INFO 11246 --- [banking-loan-service] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-09-26T08:54:13.483+07:00  INFO 11246 --- [banking-loan-service] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-09-26T08:54:13.760+07:00  INFO 11246 --- [banking-loan-service] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-09-26T08:54:13.967+07:00  WARN 11246 --- [banking-loan-service] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'loanApplicationController' defined in file [/home/admin-klb/Dropbox/Project/Bank Account Management System Project/microservices-core-banking/banking-loan-service/build/classes/java/main/com/app/bankingloanservice/controller/LoanApplicationController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'loanApplicationServiceImpl' defined in file [/home/admin-klb/Dropbox/Project/Bank Account Management System Project/microservices-core-banking/banking-loan-service/build/classes/java/main/com/app/bankingloanservice/service/impl/LoanApplicationServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'collateralServiceImpl' defined in file [/home/admin-klb/Dropbox/Project/Bank Account Management System Project/microservices-core-banking/banking-loan-service/build/classes/java/main/com/app/bankingloanservice/service/impl/CollateralServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 2: Error creating bean with name 'documentServiceImpl' defined in file [/home/admin-klb/Dropbox/Project/Bank Account Management System Project/microservices-core-banking/banking-loan-service/build/classes/java/main/com/app/bankingloanservice/service/impl/DocumentServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'loanApplicationServiceImpl': Requested bean is currently in creation: Is there an unresolvable circular reference?
2024-09-26T08:54:13.968+07:00  INFO 11246 --- [banking-loan-service] [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-09-26T08:54:13.968+07:00  INFO 11246 --- [banking-loan-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-09-26T08:54:13.972+07:00  INFO 11246 --- [banking-loan-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-09-26T08:54:13.973+07:00  INFO 11246 --- [banking-loan-service] [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2024-09-26T08:54:13.979+07:00  INFO 11246 --- [banking-loan-service] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-09-26T08:54:13.988+07:00 ERROR 11246 --- [banking-loan-service] [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

The dependencies of some of the beans in the application context form a cycle:

   loanApplicationController defined in file [/home/admin-klb/Dropbox/Project/Bank Account Management System Project/microservices-core-banking/banking-loan-service/build/classes/java/main/com/app/bankingloanservice/controller/LoanApplicationController.class]
┌─────┐
|  loanApplicationServiceImpl defined in file [/home/admin-klb/Dropbox/Project/Bank Account Management System Project/microservices-core-banking/banking-loan-service/build/classes/java/main/com/app/bankingloanservice/service/impl/LoanApplicationServiceImpl.class]
↑     ↓
|  collateralServiceImpl defined in file [/home/admin-klb/Dropbox/Project/Bank Account Management System Project/microservices-core-banking/banking-loan-service/build/classes/java/main/com/app/bankingloanservice/service/impl/CollateralServiceImpl.class]
↑     ↓
|  documentServiceImpl defined in file [/home/admin-klb/Dropbox/Project/Bank Account Management System Project/microservices-core-banking/banking-loan-service/build/classes/java/main/com/app/bankingloanservice/service/impl/DocumentServiceImpl.class]
└─────┘


Action:

Relying upon circular references is discouraged and they are prohibited by default. Update your application to remove the dependency cycle between beans. As a last resort, it may be possible to break the cycle automatically by setting spring.main.allow-circular-references to true.

2024-09-26T08:54:53.386+07:00  INFO 11483 --- [banking-loan-service] [main] c.a.b.BankingLoanServiceApplication      : Starting BankingLoanServiceApplication using Java 21.0.4 with PID 11483 (/home/admin-klb/Dropbox/Project/Bank Account Management System Project/microservices-core-banking/banking-loan-service/build/classes/java/main started by admin-klb in /home/admin-klb/Dropbox/Project/Bank Account Management System Project/microservices-core-banking/banking-loan-service)
2024-09-26T08:54:53.387+07:00  INFO 11483 --- [banking-loan-service] [main] c.a.b.BankingLoanServiceApplication      : No active profile set, falling back to 1 default profile: "default"
2024-09-26T08:54:53.776+07:00  INFO 11483 --- [banking-loan-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-09-26T08:54:53.806+07:00  INFO 11483 --- [banking-loan-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 26 ms. Found 4 JPA repository interfaces.
2024-09-26T08:54:53.904+07:00  INFO 11483 --- [banking-loan-service] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=75466fc8-7683-3ccd-a16e-070df22011a1
2024-09-26T08:54:54.114+07:00  INFO 11483 --- [banking-loan-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-09-26T08:54:54.121+07:00  INFO 11483 --- [banking-loan-service] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-09-26T08:54:54.121+07:00  INFO 11483 --- [banking-loan-service] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.28]
2024-09-26T08:54:54.148+07:00  INFO 11483 --- [banking-loan-service] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-09-26T08:54:54.148+07:00  INFO 11483 --- [banking-loan-service] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 736 ms
2024-09-26T08:54:54.186+07:00 DEBUG 11483 --- [banking-loan-service] [main] o.s.w.f.CommonsRequestLoggingFilter      : Filter 'logFilter' configured for use
2024-09-26T08:54:54.237+07:00  INFO 11483 --- [banking-loan-service] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-09-26T08:54:54.259+07:00  INFO 11483 --- [banking-loan-service] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2024-09-26T08:54:54.273+07:00  INFO 11483 --- [banking-loan-service] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-09-26T08:54:54.451+07:00  INFO 11483 --- [banking-loan-service] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-09-26T08:54:54.470+07:00  INFO 11483 --- [banking-loan-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-09-26T08:54:54.711+07:00  INFO 11483 --- [banking-loan-service] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@cfb94fd
2024-09-26T08:54:54.712+07:00  INFO 11483 --- [banking-loan-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-09-26T08:54:55.348+07:00  INFO 11483 --- [banking-loan-service] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-09-26T08:54:55.501+07:00  INFO 11483 --- [banking-loan-service] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-09-26T08:54:55.699+07:00  INFO 11483 --- [banking-loan-service] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-09-26T08:54:55.910+07:00  WARN 11483 --- [banking-loan-service] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'loanApplicationController' defined in file [/home/admin-klb/Dropbox/Project/Bank Account Management System Project/microservices-core-banking/banking-loan-service/build/classes/java/main/com/app/bankingloanservice/controller/LoanApplicationController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'loanApplicationServiceImpl' defined in file [/home/admin-klb/Dropbox/Project/Bank Account Management System Project/microservices-core-banking/banking-loan-service/build/classes/java/main/com/app/bankingloanservice/service/impl/LoanApplicationServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'collateralServiceImpl' defined in file [/home/admin-klb/Dropbox/Project/Bank Account Management System Project/microservices-core-banking/banking-loan-service/build/classes/java/main/com/app/bankingloanservice/service/impl/CollateralServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 2: Error creating bean with name 'documentServiceImpl' defined in file [/home/admin-klb/Dropbox/Project/Bank Account Management System Project/microservices-core-banking/banking-loan-service/build/classes/java/main/com/app/bankingloanservice/service/impl/DocumentServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'loanApplicationServiceImpl': Requested bean is currently in creation: Is there an unresolvable circular reference?
2024-09-26T08:54:55.910+07:00  INFO 11483 --- [banking-loan-service] [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-09-26T08:54:55.912+07:00  INFO 11483 --- [banking-loan-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-09-26T08:54:55.917+07:00  INFO 11483 --- [banking-loan-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-09-26T08:54:55.919+07:00  INFO 11483 --- [banking-loan-service] [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2024-09-26T08:54:55.930+07:00  INFO 11483 --- [banking-loan-service] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-09-26T08:54:55.943+07:00 ERROR 11483 --- [banking-loan-service] [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

The dependencies of some of the beans in the application context form a cycle:

   loanApplicationController defined in file [/home/admin-klb/Dropbox/Project/Bank Account Management System Project/microservices-core-banking/banking-loan-service/build/classes/java/main/com/app/bankingloanservice/controller/LoanApplicationController.class]
┌─────┐
|  loanApplicationServiceImpl defined in file [/home/admin-klb/Dropbox/Project/Bank Account Management System Project/microservices-core-banking/banking-loan-service/build/classes/java/main/com/app/bankingloanservice/service/impl/LoanApplicationServiceImpl.class]
↑     ↓
|  collateralServiceImpl defined in file [/home/admin-klb/Dropbox/Project/Bank Account Management System Project/microservices-core-banking/banking-loan-service/build/classes/java/main/com/app/bankingloanservice/service/impl/CollateralServiceImpl.class]
↑     ↓
|  documentServiceImpl defined in file [/home/admin-klb/Dropbox/Project/Bank Account Management System Project/microservices-core-banking/banking-loan-service/build/classes/java/main/com/app/bankingloanservice/service/impl/DocumentServiceImpl.class]
└─────┘


Action:

Relying upon circular references is discouraged and they are prohibited by default. Update your application to remove the dependency cycle between beans. As a last resort, it may be possible to break the cycle automatically by setting spring.main.allow-circular-references to true.

2024-09-26T08:55:49.261+07:00  INFO 11881 --- [banking-loan-service] [main] c.a.b.BankingLoanServiceApplication      : Starting BankingLoanServiceApplication using Java 21.0.4 with PID 11881 (/home/admin-klb/Dropbox/Project/Bank Account Management System Project/microservices-core-banking/banking-loan-service/build/classes/java/main started by admin-klb in /home/admin-klb/Dropbox/Project/Bank Account Management System Project/microservices-core-banking/banking-loan-service)
2024-09-26T08:55:49.262+07:00  INFO 11881 --- [banking-loan-service] [main] c.a.b.BankingLoanServiceApplication      : No active profile set, falling back to 1 default profile: "default"
2024-09-26T08:55:49.695+07:00  INFO 11881 --- [banking-loan-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-09-26T08:55:49.731+07:00  INFO 11881 --- [banking-loan-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 32 ms. Found 4 JPA repository interfaces.
2024-09-26T08:55:49.815+07:00  INFO 11881 --- [banking-loan-service] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=75466fc8-7683-3ccd-a16e-070df22011a1
2024-09-26T08:55:50.033+07:00  INFO 11881 --- [banking-loan-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-09-26T08:55:50.040+07:00  INFO 11881 --- [banking-loan-service] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-09-26T08:55:50.040+07:00  INFO 11881 --- [banking-loan-service] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.28]
2024-09-26T08:55:50.074+07:00  INFO 11881 --- [banking-loan-service] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-09-26T08:55:50.075+07:00  INFO 11881 --- [banking-loan-service] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 792 ms
2024-09-26T08:55:50.097+07:00 DEBUG 11881 --- [banking-loan-service] [main] o.s.w.f.CommonsRequestLoggingFilter      : Filter 'logFilter' configured for use
2024-09-26T08:55:50.147+07:00  INFO 11881 --- [banking-loan-service] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-09-26T08:55:50.168+07:00  INFO 11881 --- [banking-loan-service] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2024-09-26T08:55:50.182+07:00  INFO 11881 --- [banking-loan-service] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-09-26T08:55:50.361+07:00  INFO 11881 --- [banking-loan-service] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-09-26T08:55:50.378+07:00  INFO 11881 --- [banking-loan-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-09-26T08:55:50.550+07:00  INFO 11881 --- [banking-loan-service] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4ebd8d2
2024-09-26T08:55:50.552+07:00  INFO 11881 --- [banking-loan-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-09-26T08:55:51.169+07:00  INFO 11881 --- [banking-loan-service] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-09-26T08:55:51.300+07:00  INFO 11881 --- [banking-loan-service] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-09-26T08:55:51.496+07:00  INFO 11881 --- [banking-loan-service] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-09-26T08:55:51.673+07:00  WARN 11881 --- [banking-loan-service] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'loanApplicationController' defined in file [/home/admin-klb/Dropbox/Project/Bank Account Management System Project/microservices-core-banking/banking-loan-service/build/classes/java/main/com/app/bankingloanservice/controller/LoanApplicationController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'loanApplicationServiceImpl' defined in file [/home/admin-klb/Dropbox/Project/Bank Account Management System Project/microservices-core-banking/banking-loan-service/build/classes/java/main/com/app/bankingloanservice/service/impl/LoanApplicationServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'collateralServiceImpl' defined in file [/home/admin-klb/Dropbox/Project/Bank Account Management System Project/microservices-core-banking/banking-loan-service/build/classes/java/main/com/app/bankingloanservice/service/impl/CollateralServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 2: Error creating bean with name 'documentServiceImpl' defined in file [/home/admin-klb/Dropbox/Project/Bank Account Management System Project/microservices-core-banking/banking-loan-service/build/classes/java/main/com/app/bankingloanservice/service/impl/DocumentServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'loanApplicationServiceImpl': Requested bean is currently in creation: Is there an unresolvable circular reference?
2024-09-26T08:55:51.674+07:00  INFO 11881 --- [banking-loan-service] [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-09-26T08:55:51.674+07:00  INFO 11881 --- [banking-loan-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-09-26T08:55:51.677+07:00  INFO 11881 --- [banking-loan-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-09-26T08:55:51.678+07:00  INFO 11881 --- [banking-loan-service] [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2024-09-26T08:55:51.684+07:00  INFO 11881 --- [banking-loan-service] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-09-26T08:55:51.694+07:00 ERROR 11881 --- [banking-loan-service] [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

The dependencies of some of the beans in the application context form a cycle:

   loanApplicationController defined in file [/home/admin-klb/Dropbox/Project/Bank Account Management System Project/microservices-core-banking/banking-loan-service/build/classes/java/main/com/app/bankingloanservice/controller/LoanApplicationController.class]
┌─────┐
|  loanApplicationServiceImpl defined in file [/home/admin-klb/Dropbox/Project/Bank Account Management System Project/microservices-core-banking/banking-loan-service/build/classes/java/main/com/app/bankingloanservice/service/impl/LoanApplicationServiceImpl.class]
↑     ↓
|  collateralServiceImpl defined in file [/home/admin-klb/Dropbox/Project/Bank Account Management System Project/microservices-core-banking/banking-loan-service/build/classes/java/main/com/app/bankingloanservice/service/impl/CollateralServiceImpl.class]
↑     ↓
|  documentServiceImpl defined in file [/home/admin-klb/Dropbox/Project/Bank Account Management System Project/microservices-core-banking/banking-loan-service/build/classes/java/main/com/app/bankingloanservice/service/impl/DocumentServiceImpl.class]
└─────┘


Action:

Relying upon circular references is discouraged and they are prohibited by default. Update your application to remove the dependency cycle between beans. As a last resort, it may be possible to break the cycle automatically by setting spring.main.allow-circular-references to true.

2024-09-26T12:02:37.834+07:00  INFO 31799 --- [banking-loan-service] [main] c.a.b.BankingLoanServiceApplication      : Starting BankingLoanServiceApplication using Java 21.0.4 with PID 31799 (/home/admin-klb/Dropbox/Project/Bank Account Management System Project/microservices-core-banking/banking-loan-service/build/classes/java/main started by admin-klb in /home/admin-klb/Dropbox/Project/Bank Account Management System Project/microservices-core-banking/banking-loan-service)
2024-09-26T12:02:37.889+07:00  INFO 31799 --- [banking-loan-service] [main] c.a.b.BankingLoanServiceApplication      : No active profile set, falling back to 1 default profile: "default"
2024-09-26T12:02:38.466+07:00  INFO 31799 --- [banking-loan-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-09-26T12:02:38.499+07:00  INFO 31799 --- [banking-loan-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 29 ms. Found 4 JPA repository interfaces.
2024-09-26T12:02:38.690+07:00  INFO 31799 --- [banking-loan-service] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=a758a09a-b58c-370e-bbba-9b5c0a6d6b99
2024-09-26T12:02:38.927+07:00  INFO 31799 --- [banking-loan-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-09-26T12:02:38.934+07:00  INFO 31799 --- [banking-loan-service] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-09-26T12:02:38.935+07:00  INFO 31799 --- [banking-loan-service] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.28]
2024-09-26T12:02:38.962+07:00  INFO 31799 --- [banking-loan-service] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-09-26T12:02:38.962+07:00  INFO 31799 --- [banking-loan-service] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 999 ms
2024-09-26T12:02:38.995+07:00 DEBUG 31799 --- [banking-loan-service] [main] o.s.w.f.CommonsRequestLoggingFilter      : Filter 'logFilter' configured for use
2024-09-26T12:02:39.051+07:00  INFO 31799 --- [banking-loan-service] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-09-26T12:02:39.093+07:00  INFO 31799 --- [banking-loan-service] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2024-09-26T12:02:39.124+07:00  INFO 31799 --- [banking-loan-service] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-09-26T12:02:39.317+07:00  INFO 31799 --- [banking-loan-service] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-09-26T12:02:39.333+07:00  INFO 31799 --- [banking-loan-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-09-26T12:02:40.002+07:00  INFO 31799 --- [banking-loan-service] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5e055ce1
2024-09-26T12:02:40.003+07:00  INFO 31799 --- [banking-loan-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-09-26T12:02:40.714+07:00  INFO 31799 --- [banking-loan-service] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-09-26T12:02:41.365+07:00  INFO 31799 --- [banking-loan-service] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-09-26T12:02:41.559+07:00  INFO 31799 --- [banking-loan-service] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-09-26T12:02:41.968+07:00  WARN 31799 --- [banking-loan-service] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-09-26T12:02:42.447+07:00  INFO 31799 --- [banking-loan-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-09-26T12:02:42.718+07:00  INFO 31799 --- [banking-loan-service] [main] c.a.b.BankingLoanServiceApplication      : Started BankingLoanServiceApplication in 5.607 seconds (process running for 6.357)
2024-09-26T12:03:55.665+07:00  INFO 31799 --- [banking-loan-service] [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-09-26T12:03:55.665+07:00  INFO 31799 --- [banking-loan-service] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-09-26T12:03:55.666+07:00  INFO 31799 --- [banking-loan-service] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-09-26T12:03:55.680+07:00 DEBUG 31799 --- [banking-loan-service] [http-nio-8080-exec-2] o.s.w.f.CommonsRequestLoggingFilter      : Before request [POST /loan-applications, client=0:0:0:0:0:0:0:1, headers=[user-agent:"PostmanRuntime/7.42.0", accept:"*/*", postman-token:"94abff93-e12b-42cc-bafa-432fae159c7f", host:"localhost:8080", accept-encoding:"gzip, deflate, br", connection:"keep-alive", content-length:"807", Content-Type:"application/json;charset=UTF-8"]]
2024-09-26T12:03:55.789+07:00  INFO 31799 --- [banking-loan-service] [http-nio-8080-exec-2] c.a.b.s.impl.LoanApplicationServiceImpl  : LoanApplicationRequestDto: LoanApplicationRequestDto(customerId=1, accountId=1, monthlyIncome=3000000, occupation=Engineer, loanTypeId=1, desiredLoanAmount=50000000, desiredLoanTermMonths=12, repaymentMethod=EQUAL_INSTALLMENTS, desiredDisbursementDate=2024-10-01, interestRateType=FIXED, loanPurpose=Home renovation, collateralDto=com.app.bankingloanservice.dto.CollateralDto@723542db)
2024-09-26T12:03:55.871+07:00  INFO 31799 --- [banking-loan-service] [http-nio-8080-exec-2] c.a.b.s.impl.LoanApplicationServiceImpl  : LoanApplication entity is converted from DTO and LoanType updated: LoanApplication(loanApplicationId=null, customerId=1, accountId=1, monthlyIncome=3000000, occupation=Engineer, loanType=LoanType(loanTypeId=1, loanTypeName=Vay nhu cầu nhà ở, annualInterestRate=7.50, pastDueInterestRate=10.00, latePaymentInterestRate=12.00, prepaymentPenaltyRate=2.00, maxLoanAmount=1000000000, maxLoanTermMonths=240, requiresCollateral=true, reviewTimeDays=5, description=Khoản vay dùng để mua nhà ở, hỗ trợ người vay trong việc có được ngôi nhà mơ ước., isActive=true, loanApplications=[], loans=[]), desiredLoanAmount=50000000, desiredLoanTermMonths=12, repaymentMethod=EQUAL_INSTALLMENTS, desiredDisbursementDate=2024-10-01, interestRateType=FIXED, loanPurpose=Home renovation, creditScore=null, applicationStatus=PENDING, submissionDate=2024-09-26, reviewDueDate=null, reviewDate=null, reviewNotes=null, loan=null, documents=null, collateral=null)
2024-09-26T12:03:55.931+07:00  INFO 31799 --- [banking-loan-service] [http-nio-8080-exec-2] c.a.b.s.impl.LoanApplicationServiceImpl  : LoanApplication entity has been saved: LoanApplication(loanApplicationId=4, customerId=1, accountId=1, monthlyIncome=3000000, occupation=Engineer, loanType=LoanType(loanTypeId=1, loanTypeName=Vay nhu cầu nhà ở, annualInterestRate=7.50, pastDueInterestRate=10.00, latePaymentInterestRate=12.00, prepaymentPenaltyRate=2.00, maxLoanAmount=1000000000, maxLoanTermMonths=240, requiresCollateral=true, reviewTimeDays=5, description=Khoản vay dùng để mua nhà ở, hỗ trợ người vay trong việc có được ngôi nhà mơ ước., isActive=true, loanApplications=[], loans=[]), desiredLoanAmount=50000000, desiredLoanTermMonths=12, repaymentMethod=EQUAL_INSTALLMENTS, desiredDisbursementDate=2024-10-01, interestRateType=FIXED, loanPurpose=Home renovation, creditScore=null, applicationStatus=PENDING, submissionDate=2024-09-26, reviewDueDate=null, reviewDate=null, reviewNotes=null, loan=null, documents=null, collateral=null)
2024-09-26T12:03:55.937+07:00 ERROR 31799 --- [banking-loan-service] [http-nio-8080-exec-2] c.a.b.exception.GlobalExceptionHandler   : An unexpected error occurred: The given id must not be null

org.springframework.dao.InvalidDataAccessApiUsageException: The given id must not be null
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:371) ~[spring-orm-6.1.12.jar:6.1.12]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.1.12.jar:6.1.12]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550) ~[spring-orm-6.1.12.jar:6.1.12]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.1.12.jar:6.1.12]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:335) ~[spring-tx-6.1.12.jar:6.1.12]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.1.12.jar:6.1.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.12.jar:6.1.12]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165) ~[spring-data-jpa-3.3.3.jar:3.3.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.12.jar:6.1.12]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.1.12.jar:6.1.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.12.jar:6.1.12]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.1.12.jar:6.1.12]
	at jdk.proxy2/jdk.proxy2.$Proxy161.findById(Unknown Source) ~[na:na]
	at com.app.bankingloanservice.service.impl.CollateralServiceImpl.createCollateral(CollateralServiceImpl.java:36) ~[main/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355) ~[spring-aop-6.1.12.jar:6.1.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.1.12.jar:6.1.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.1.12.jar:6.1.12]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768) ~[spring-aop-6.1.12.jar:6.1.12]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:379) ~[spring-tx-6.1.12.jar:6.1.12]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.1.12.jar:6.1.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.12.jar:6.1.12]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768) ~[spring-aop-6.1.12.jar:6.1.12]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720) ~[spring-aop-6.1.12.jar:6.1.12]
	at com.app.bankingloanservice.service.impl.CollateralServiceImpl$$SpringCGLIB$$0.createCollateral(<generated>) ~[main/:na]
	at com.app.bankingloanservice.service.impl.LoanApplicationServiceImpl.createLoanApplication(LoanApplicationServiceImpl.java:60) ~[main/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355) ~[spring-aop-6.1.12.jar:6.1.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.1.12.jar:6.1.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.1.12.jar:6.1.12]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768) ~[spring-aop-6.1.12.jar:6.1.12]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:379) ~[spring-tx-6.1.12.jar:6.1.12]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.1.12.jar:6.1.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.12.jar:6.1.12]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768) ~[spring-aop-6.1.12.jar:6.1.12]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720) ~[spring-aop-6.1.12.jar:6.1.12]
	at com.app.bankingloanservice.service.impl.LoanApplicationServiceImpl$$SpringCGLIB$$0.createLoanApplication(<generated>) ~[main/:na]
	at com.app.bankingloanservice.controller.LoanApplicationController.createLoanApplication(LoanApplicationController.java:76) ~[main/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255) ~[spring-web-6.1.12.jar:6.1.12]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188) ~[spring-web-6.1.12.jar:6.1.12]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.12.jar:6.1.12]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926) ~[spring-webmvc-6.1.12.jar:6.1.12]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831) ~[spring-webmvc-6.1.12.jar:6.1.12]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.12.jar:6.1.12]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.12.jar:6.1.12]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.12.jar:6.1.12]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.12.jar:6.1.12]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.1.12.jar:6.1.12]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.28.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.12.jar:6.1.12]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.28.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.springframework.web.filter.AbstractRequestLoggingFilter.doFilterInternal(AbstractRequestLoggingFilter.java:289) ~[spring-web-6.1.12.jar:6.1.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.12.jar:6.1.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.12.jar:6.1.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.12.jar:6.1.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.12.jar:6.1.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.12.jar:6.1.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.12.jar:6.1.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.12.jar:6.1.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: java.lang.IllegalArgumentException: The given id must not be null
	at org.springframework.util.Assert.notNull(Assert.java:172) ~[spring-core-6.1.12.jar:6.1.12]
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById(SimpleJpaRepository.java:304) ~[spring-data-jpa-3.3.3.jar:3.3.3]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355) ~[spring-aop-6.1.12.jar:6.1.12]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277) ~[spring-data-commons-3.3.3.jar:3.3.3]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.3.3.jar:3.3.3]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.3.3.jar:3.3.3]
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516) ~[spring-data-commons-3.3.3.jar:3.3.3]
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-3.3.3.jar:3.3.3]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628) ~[spring-data-commons-3.3.3.jar:3.3.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.12.jar:6.1.12]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:173) ~[spring-data-commons-3.3.3.jar:3.3.3]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:148) ~[spring-data-commons-3.3.3.jar:3.3.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.12.jar:6.1.12]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:70) ~[spring-data-commons-3.3.3.jar:3.3.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.12.jar:6.1.12]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:379) ~[spring-tx-6.1.12.jar:6.1.12]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.1.12.jar:6.1.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.12.jar:6.1.12]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.1.12.jar:6.1.12]
	... 86 common frames omitted

2024-09-26T12:03:55.961+07:00 DEBUG 31799 --- [banking-loan-service] [http-nio-8080-exec-2] o.s.w.f.CommonsRequestLoggingFilter      : REQUEST DATA : POST /loan-applications, client=0:0:0:0:0:0:0:1, headers=[user-agent:"PostmanRuntime/7.42.0", accept:"*/*", postman-token:"94abff93-e12b-42cc-bafa-432fae159c7f", host:"localhost:8080", accept-encoding:"gzip, deflate, br", connection:"keep-alive", content-length:"807", Content-Type:"application/json;charset=UTF-8"], payload={
  "customerId": 1,
  "accountId": 1,
  "monthlyIncome": 3000000,
  "occupation": "Engineer",
  "loanTypeId": 1,
  "desiredLoanAmount": 50000000,
  "desiredLoanTermMonths": 12,
  "repaymentMethod": "EQUAL_INSTALLMENTS",
  "desiredDisbursementDate": "2024-10-01",
  "interestRateType": "FIXED",
  "loanPurpose": "Home renovation",
  "creditScore": 700,
  "submissionDate": "2024-09-25",
  "applicationStatus": "PENDING",
  "reviewDueDate": "2024-10-10",
  "reviewDate": null,
  "reviewNotes": null,
  "collateralDto": {
    "collateralId": 1,
    "loanId": null,
    "loanApplicationId": null,
    "collateralType": "House",
    "collateralValue": 100000000,
    "description": "Family house",
    "status": "ACTIVE",
    "reclaimDate": null,
    "reasonForReclamation": null,
    "releaseDate": null
  }
}
]
2024-09-26T12:04:29.072+07:00 DEBUG 31799 --- [banking-loan-service] [http-nio-8080-exec-4] o.s.w.f.CommonsRequestLoggingFilter      : Before request [POST /loan-applications, client=0:0:0:0:0:0:0:1, headers=[user-agent:"PostmanRuntime/7.42.0", accept:"*/*", postman-token:"6042b649-30c6-4eba-bd7f-d2622964f07c", host:"localhost:8080", accept-encoding:"gzip, deflate, br", connection:"keep-alive", content-length:"784", Content-Type:"application/json;charset=UTF-8"]]
2024-09-26T12:04:29.074+07:00  INFO 31799 --- [banking-loan-service] [http-nio-8080-exec-4] c.a.b.s.impl.LoanApplicationServiceImpl  : LoanApplicationRequestDto: LoanApplicationRequestDto(customerId=1, accountId=1, monthlyIncome=3000000, occupation=Engineer, loanTypeId=1, desiredLoanAmount=50000000, desiredLoanTermMonths=12, repaymentMethod=EQUAL_INSTALLMENTS, desiredDisbursementDate=2024-10-01, interestRateType=FIXED, loanPurpose=Home renovation, collateralDto=com.app.bankingloanservice.dto.CollateralDto@6d6b2dfb)
2024-09-26T12:04:29.078+07:00  INFO 31799 --- [banking-loan-service] [http-nio-8080-exec-4] c.a.b.s.impl.LoanApplicationServiceImpl  : LoanApplication entity is converted from DTO and LoanType updated: LoanApplication(loanApplicationId=null, customerId=1, accountId=1, monthlyIncome=3000000, occupation=Engineer, loanType=LoanType(loanTypeId=1, loanTypeName=Vay nhu cầu nhà ở, annualInterestRate=7.50, pastDueInterestRate=10.00, latePaymentInterestRate=12.00, prepaymentPenaltyRate=2.00, maxLoanAmount=1000000000, maxLoanTermMonths=240, requiresCollateral=true, reviewTimeDays=5, description=Khoản vay dùng để mua nhà ở, hỗ trợ người vay trong việc có được ngôi nhà mơ ước., isActive=true, loanApplications=[], loans=[]), desiredLoanAmount=50000000, desiredLoanTermMonths=12, repaymentMethod=EQUAL_INSTALLMENTS, desiredDisbursementDate=2024-10-01, interestRateType=FIXED, loanPurpose=Home renovation, creditScore=null, applicationStatus=PENDING, submissionDate=2024-09-26, reviewDueDate=null, reviewDate=null, reviewNotes=null, loan=null, documents=null, collateral=null)
2024-09-26T12:04:29.084+07:00  INFO 31799 --- [banking-loan-service] [http-nio-8080-exec-4] c.a.b.s.impl.LoanApplicationServiceImpl  : LoanApplication entity has been saved: LoanApplication(loanApplicationId=5, customerId=1, accountId=1, monthlyIncome=3000000, occupation=Engineer, loanType=LoanType(loanTypeId=1, loanTypeName=Vay nhu cầu nhà ở, annualInterestRate=7.50, pastDueInterestRate=10.00, latePaymentInterestRate=12.00, prepaymentPenaltyRate=2.00, maxLoanAmount=1000000000, maxLoanTermMonths=240, requiresCollateral=true, reviewTimeDays=5, description=Khoản vay dùng để mua nhà ở, hỗ trợ người vay trong việc có được ngôi nhà mơ ước., isActive=true, loanApplications=[], loans=[]), desiredLoanAmount=50000000, desiredLoanTermMonths=12, repaymentMethod=EQUAL_INSTALLMENTS, desiredDisbursementDate=2024-10-01, interestRateType=FIXED, loanPurpose=Home renovation, creditScore=null, applicationStatus=PENDING, submissionDate=2024-09-26, reviewDueDate=null, reviewDate=null, reviewNotes=null, loan=null, documents=null, collateral=null)
2024-09-26T12:04:29.089+07:00 ERROR 31799 --- [banking-loan-service] [http-nio-8080-exec-4] c.a.b.exception.GlobalExceptionHandler   : An unexpected error occurred: The given id must not be null

org.springframework.dao.InvalidDataAccessApiUsageException: The given id must not be null
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:371) ~[spring-orm-6.1.12.jar:6.1.12]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.1.12.jar:6.1.12]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550) ~[spring-orm-6.1.12.jar:6.1.12]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.1.12.jar:6.1.12]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:335) ~[spring-tx-6.1.12.jar:6.1.12]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.1.12.jar:6.1.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.12.jar:6.1.12]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165) ~[spring-data-jpa-3.3.3.jar:3.3.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.12.jar:6.1.12]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.1.12.jar:6.1.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.12.jar:6.1.12]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.1.12.jar:6.1.12]
	at jdk.proxy2/jdk.proxy2.$Proxy161.findById(Unknown Source) ~[na:na]
	at com.app.bankingloanservice.service.impl.CollateralServiceImpl.createCollateral(CollateralServiceImpl.java:36) ~[main/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355) ~[spring-aop-6.1.12.jar:6.1.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.1.12.jar:6.1.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.1.12.jar:6.1.12]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768) ~[spring-aop-6.1.12.jar:6.1.12]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:379) ~[spring-tx-6.1.12.jar:6.1.12]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.1.12.jar:6.1.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.12.jar:6.1.12]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768) ~[spring-aop-6.1.12.jar:6.1.12]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720) ~[spring-aop-6.1.12.jar:6.1.12]
	at com.app.bankingloanservice.service.impl.CollateralServiceImpl$$SpringCGLIB$$0.createCollateral(<generated>) ~[main/:na]
	at com.app.bankingloanservice.service.impl.LoanApplicationServiceImpl.createLoanApplication(LoanApplicationServiceImpl.java:60) ~[main/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355) ~[spring-aop-6.1.12.jar:6.1.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.1.12.jar:6.1.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.1.12.jar:6.1.12]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768) ~[spring-aop-6.1.12.jar:6.1.12]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:379) ~[spring-tx-6.1.12.jar:6.1.12]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.1.12.jar:6.1.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.12.jar:6.1.12]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768) ~[spring-aop-6.1.12.jar:6.1.12]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720) ~[spring-aop-6.1.12.jar:6.1.12]
	at com.app.bankingloanservice.service.impl.LoanApplicationServiceImpl$$SpringCGLIB$$0.createLoanApplication(<generated>) ~[main/:na]
	at com.app.bankingloanservice.controller.LoanApplicationController.createLoanApplication(LoanApplicationController.java:76) ~[main/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255) ~[spring-web-6.1.12.jar:6.1.12]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188) ~[spring-web-6.1.12.jar:6.1.12]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.12.jar:6.1.12]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926) ~[spring-webmvc-6.1.12.jar:6.1.12]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831) ~[spring-webmvc-6.1.12.jar:6.1.12]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.12.jar:6.1.12]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.12.jar:6.1.12]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.12.jar:6.1.12]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.12.jar:6.1.12]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.1.12.jar:6.1.12]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.28.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.12.jar:6.1.12]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.28.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.springframework.web.filter.AbstractRequestLoggingFilter.doFilterInternal(AbstractRequestLoggingFilter.java:289) ~[spring-web-6.1.12.jar:6.1.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.12.jar:6.1.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.12.jar:6.1.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.12.jar:6.1.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.12.jar:6.1.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.12.jar:6.1.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.12.jar:6.1.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.12.jar:6.1.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: java.lang.IllegalArgumentException: The given id must not be null
	at org.springframework.util.Assert.notNull(Assert.java:172) ~[spring-core-6.1.12.jar:6.1.12]
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById(SimpleJpaRepository.java:304) ~[spring-data-jpa-3.3.3.jar:3.3.3]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355) ~[spring-aop-6.1.12.jar:6.1.12]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277) ~[spring-data-commons-3.3.3.jar:3.3.3]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.3.3.jar:3.3.3]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.3.3.jar:3.3.3]
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516) ~[spring-data-commons-3.3.3.jar:3.3.3]
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-3.3.3.jar:3.3.3]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628) ~[spring-data-commons-3.3.3.jar:3.3.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.12.jar:6.1.12]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:173) ~[spring-data-commons-3.3.3.jar:3.3.3]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:148) ~[spring-data-commons-3.3.3.jar:3.3.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.12.jar:6.1.12]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:70) ~[spring-data-commons-3.3.3.jar:3.3.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.12.jar:6.1.12]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:379) ~[spring-tx-6.1.12.jar:6.1.12]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.1.12.jar:6.1.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.12.jar:6.1.12]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.1.12.jar:6.1.12]
	... 86 common frames omitted

2024-09-26T12:04:29.091+07:00 DEBUG 31799 --- [banking-loan-service] [http-nio-8080-exec-4] o.s.w.f.CommonsRequestLoggingFilter      : REQUEST DATA : POST /loan-applications, client=0:0:0:0:0:0:0:1, headers=[user-agent:"PostmanRuntime/7.42.0", accept:"*/*", postman-token:"6042b649-30c6-4eba-bd7f-d2622964f07c", host:"localhost:8080", accept-encoding:"gzip, deflate, br", connection:"keep-alive", content-length:"784", Content-Type:"application/json;charset=UTF-8"], payload={
  "customerId": 1,
  "accountId": 1,
  "monthlyIncome": 3000000,
  "occupation": "Engineer",
  "loanTypeId": 1,
  "desiredLoanAmount": 50000000,
  "desiredLoanTermMonths": 12,
  "repaymentMethod": "EQUAL_INSTALLMENTS",
  "desiredDisbursementDate": "2024-10-01",
  "interestRateType": "FIXED",
  "loanPurpose": "Home renovation",
  "creditScore": 700,
  "submissionDate": "2024-09-25",
  "applicationStatus": "PENDING",
  "reviewDueDate": "2024-10-10",
  "reviewDate": null,
  "reviewNotes": null,
  "collateralDto": {
    "loanId": null,
    "loanApplicationId": null,
    "collateralType": "House",
    "collateralValue": 100000000,
    "description": "Family house",
    "status": "ACTIVE",
    "reclaimDate": null,
    "reasonForReclamation": null,
    "releaseDate": null
  }
}
]
2024-09-26T12:05:55.943+07:00  INFO 31799 --- [banking-loan-service] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-09-26T12:05:55.946+07:00  INFO 31799 --- [banking-loan-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-09-26T12:05:55.966+07:00  INFO 31799 --- [banking-loan-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-09-26T12:06:04.467+07:00  INFO 32222 --- [banking-loan-service] [main] c.a.b.BankingLoanServiceApplication      : Starting BankingLoanServiceApplication using Java 21.0.4 with PID 32222 (/home/admin-klb/Dropbox/Project/Bank Account Management System Project/microservices-core-banking/banking-loan-service/build/classes/java/main started by admin-klb in /home/admin-klb/Dropbox/Project/Bank Account Management System Project/microservices-core-banking/banking-loan-service)
2024-09-26T12:06:04.468+07:00  INFO 32222 --- [banking-loan-service] [main] c.a.b.BankingLoanServiceApplication      : No active profile set, falling back to 1 default profile: "default"
2024-09-26T12:06:05.189+07:00  INFO 32222 --- [banking-loan-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-09-26T12:06:05.225+07:00  INFO 32222 --- [banking-loan-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 31 ms. Found 4 JPA repository interfaces.
2024-09-26T12:06:05.320+07:00  INFO 32222 --- [banking-loan-service] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=a758a09a-b58c-370e-bbba-9b5c0a6d6b99
2024-09-26T12:06:05.582+07:00  INFO 32222 --- [banking-loan-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-09-26T12:06:05.590+07:00  INFO 32222 --- [banking-loan-service] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-09-26T12:06:05.590+07:00  INFO 32222 --- [banking-loan-service] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.28]
2024-09-26T12:06:05.627+07:00  INFO 32222 --- [banking-loan-service] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-09-26T12:06:05.628+07:00  INFO 32222 --- [banking-loan-service] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1132 ms
2024-09-26T12:06:05.654+07:00 DEBUG 32222 --- [banking-loan-service] [main] o.s.w.f.CommonsRequestLoggingFilter      : Filter 'logFilter' configured for use
2024-09-26T12:06:05.714+07:00  INFO 32222 --- [banking-loan-service] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-09-26T12:06:05.757+07:00  INFO 32222 --- [banking-loan-service] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2024-09-26T12:06:05.778+07:00  INFO 32222 --- [banking-loan-service] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-09-26T12:06:06.173+07:00  INFO 32222 --- [banking-loan-service] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-09-26T12:06:06.191+07:00  INFO 32222 --- [banking-loan-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-09-26T12:06:06.456+07:00  INFO 32222 --- [banking-loan-service] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@545f0b6
2024-09-26T12:06:06.457+07:00  INFO 32222 --- [banking-loan-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-09-26T12:06:07.102+07:00  INFO 32222 --- [banking-loan-service] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-09-26T12:06:07.558+07:00  INFO 32222 --- [banking-loan-service] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-09-26T12:06:07.779+07:00  INFO 32222 --- [banking-loan-service] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-09-26T12:06:08.059+07:00  WARN 32222 --- [banking-loan-service] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-09-26T12:06:08.552+07:00  INFO 32222 --- [banking-loan-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-09-26T12:06:08.808+07:00  INFO 32222 --- [banking-loan-service] [main] c.a.b.BankingLoanServiceApplication      : Started BankingLoanServiceApplication in 4.89 seconds (process running for 5.593)
2024-09-26T12:06:31.317+07:00  INFO 32222 --- [banking-loan-service] [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-09-26T12:06:31.317+07:00  INFO 32222 --- [banking-loan-service] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-09-26T12:06:31.318+07:00  INFO 32222 --- [banking-loan-service] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-09-26T12:06:31.326+07:00 DEBUG 32222 --- [banking-loan-service] [http-nio-8080-exec-2] o.s.w.f.CommonsRequestLoggingFilter      : Before request [POST /loan-applications, client=0:0:0:0:0:0:0:1, headers=[user-agent:"PostmanRuntime/7.42.0", accept:"*/*", postman-token:"6feca674-3efc-4148-85bb-0090fef37ef2", host:"localhost:8080", accept-encoding:"gzip, deflate, br", connection:"keep-alive", content-length:"784", Content-Type:"application/json;charset=UTF-8"]]
2024-09-26T12:06:31.396+07:00  INFO 32222 --- [banking-loan-service] [http-nio-8080-exec-2] c.a.b.s.impl.LoanApplicationServiceImpl  : LoanApplicationRequestDto: LoanApplicationRequestDto(customerId=1, accountId=1, monthlyIncome=3000000, occupation=Engineer, loanTypeId=1, desiredLoanAmount=50000000, desiredLoanTermMonths=12, repaymentMethod=EQUAL_INSTALLMENTS, desiredDisbursementDate=2024-10-01, interestRateType=FIXED, loanPurpose=Home renovation, collateralDto=com.app.bankingloanservice.dto.CollateralDto@6a460fcb)
2024-09-26T12:06:31.455+07:00  INFO 32222 --- [banking-loan-service] [http-nio-8080-exec-2] c.a.b.s.impl.LoanApplicationServiceImpl  : LoanApplication entity is converted from DTO and LoanType updated: LoanApplication(loanApplicationId=null, customerId=1, accountId=1, monthlyIncome=3000000, occupation=Engineer, loanType=LoanType(loanTypeId=1, loanTypeName=Vay nhu cầu nhà ở, annualInterestRate=7.50, pastDueInterestRate=10.00, latePaymentInterestRate=12.00, prepaymentPenaltyRate=2.00, maxLoanAmount=1000000000, maxLoanTermMonths=240, requiresCollateral=true, reviewTimeDays=5, description=Khoản vay dùng để mua nhà ở, hỗ trợ người vay trong việc có được ngôi nhà mơ ước., isActive=true, loanApplications=[], loans=[]), desiredLoanAmount=50000000, desiredLoanTermMonths=12, repaymentMethod=EQUAL_INSTALLMENTS, desiredDisbursementDate=2024-10-01, interestRateType=FIXED, loanPurpose=Home renovation, creditScore=null, applicationStatus=PENDING, submissionDate=2024-09-26, reviewDueDate=null, reviewDate=null, reviewNotes=null, loan=null, documents=null, collateral=null)
2024-09-26T12:06:31.497+07:00  INFO 32222 --- [banking-loan-service] [http-nio-8080-exec-2] c.a.b.s.impl.LoanApplicationServiceImpl  : LoanApplication entity has been saved: LoanApplication(loanApplicationId=6, customerId=1, accountId=1, monthlyIncome=3000000, occupation=Engineer, loanType=LoanType(loanTypeId=1, loanTypeName=Vay nhu cầu nhà ở, annualInterestRate=7.50, pastDueInterestRate=10.00, latePaymentInterestRate=12.00, prepaymentPenaltyRate=2.00, maxLoanAmount=1000000000, maxLoanTermMonths=240, requiresCollateral=true, reviewTimeDays=5, description=Khoản vay dùng để mua nhà ở, hỗ trợ người vay trong việc có được ngôi nhà mơ ước., isActive=true, loanApplications=[], loans=[]), desiredLoanAmount=50000000, desiredLoanTermMonths=12, repaymentMethod=EQUAL_INSTALLMENTS, desiredDisbursementDate=2024-10-01, interestRateType=FIXED, loanPurpose=Home renovation, creditScore=null, applicationStatus=PENDING, submissionDate=2024-09-26, reviewDueDate=null, reviewDate=null, reviewNotes=null, loan=null, documents=null, collateral=null)
2024-09-26T12:06:31.501+07:00 ERROR 32222 --- [banking-loan-service] [http-nio-8080-exec-2] c.a.b.exception.GlobalExceptionHandler   : An unexpected error occurred: The given id must not be null

org.springframework.dao.InvalidDataAccessApiUsageException: The given id must not be null
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:371) ~[spring-orm-6.1.12.jar:6.1.12]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.1.12.jar:6.1.12]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550) ~[spring-orm-6.1.12.jar:6.1.12]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.1.12.jar:6.1.12]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:335) ~[spring-tx-6.1.12.jar:6.1.12]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.1.12.jar:6.1.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.12.jar:6.1.12]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165) ~[spring-data-jpa-3.3.3.jar:3.3.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.12.jar:6.1.12]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.1.12.jar:6.1.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.12.jar:6.1.12]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.1.12.jar:6.1.12]
	at jdk.proxy2/jdk.proxy2.$Proxy161.findById(Unknown Source) ~[na:na]
	at com.app.bankingloanservice.service.impl.CollateralServiceImpl.createCollateral(CollateralServiceImpl.java:36) ~[main/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355) ~[spring-aop-6.1.12.jar:6.1.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.1.12.jar:6.1.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.1.12.jar:6.1.12]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768) ~[spring-aop-6.1.12.jar:6.1.12]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:379) ~[spring-tx-6.1.12.jar:6.1.12]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.1.12.jar:6.1.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.12.jar:6.1.12]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768) ~[spring-aop-6.1.12.jar:6.1.12]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720) ~[spring-aop-6.1.12.jar:6.1.12]
	at com.app.bankingloanservice.service.impl.CollateralServiceImpl$$SpringCGLIB$$0.createCollateral(<generated>) ~[main/:na]
	at com.app.bankingloanservice.service.impl.LoanApplicationServiceImpl.createLoanApplication(LoanApplicationServiceImpl.java:60) ~[main/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355) ~[spring-aop-6.1.12.jar:6.1.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.1.12.jar:6.1.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.1.12.jar:6.1.12]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768) ~[spring-aop-6.1.12.jar:6.1.12]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:379) ~[spring-tx-6.1.12.jar:6.1.12]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.1.12.jar:6.1.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.12.jar:6.1.12]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768) ~[spring-aop-6.1.12.jar:6.1.12]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720) ~[spring-aop-6.1.12.jar:6.1.12]
	at com.app.bankingloanservice.service.impl.LoanApplicationServiceImpl$$SpringCGLIB$$0.createLoanApplication(<generated>) ~[main/:na]
	at com.app.bankingloanservice.controller.LoanApplicationController.createLoanApplication(LoanApplicationController.java:76) ~[main/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255) ~[spring-web-6.1.12.jar:6.1.12]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188) ~[spring-web-6.1.12.jar:6.1.12]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.12.jar:6.1.12]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926) ~[spring-webmvc-6.1.12.jar:6.1.12]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831) ~[spring-webmvc-6.1.12.jar:6.1.12]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.12.jar:6.1.12]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.12.jar:6.1.12]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.12.jar:6.1.12]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.12.jar:6.1.12]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.1.12.jar:6.1.12]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.28.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.12.jar:6.1.12]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.28.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.springframework.web.filter.AbstractRequestLoggingFilter.doFilterInternal(AbstractRequestLoggingFilter.java:289) ~[spring-web-6.1.12.jar:6.1.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.12.jar:6.1.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.12.jar:6.1.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.12.jar:6.1.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.12.jar:6.1.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.12.jar:6.1.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.12.jar:6.1.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.12.jar:6.1.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.28.jar:10.1.28]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: java.lang.IllegalArgumentException: The given id must not be null
	at org.springframework.util.Assert.notNull(Assert.java:172) ~[spring-core-6.1.12.jar:6.1.12]
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById(SimpleJpaRepository.java:304) ~[spring-data-jpa-3.3.3.jar:3.3.3]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355) ~[spring-aop-6.1.12.jar:6.1.12]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277) ~[spring-data-commons-3.3.3.jar:3.3.3]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.3.3.jar:3.3.3]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.3.3.jar:3.3.3]
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516) ~[spring-data-commons-3.3.3.jar:3.3.3]
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-3.3.3.jar:3.3.3]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628) ~[spring-data-commons-3.3.3.jar:3.3.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.12.jar:6.1.12]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:173) ~[spring-data-commons-3.3.3.jar:3.3.3]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:148) ~[spring-data-commons-3.3.3.jar:3.3.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.12.jar:6.1.12]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:70) ~[spring-data-commons-3.3.3.jar:3.3.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.12.jar:6.1.12]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:379) ~[spring-tx-6.1.12.jar:6.1.12]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.1.12.jar:6.1.12]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.12.jar:6.1.12]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.1.12.jar:6.1.12]
	... 86 common frames omitted

2024-09-26T12:06:31.518+07:00 DEBUG 32222 --- [banking-loan-service] [http-nio-8080-exec-2] o.s.w.f.CommonsRequestLoggingFilter      : REQUEST DATA : POST /loan-applications, client=0:0:0:0:0:0:0:1, headers=[user-agent:"PostmanRuntime/7.42.0", accept:"*/*", postman-token:"6feca674-3efc-4148-85bb-0090fef37ef2", host:"localhost:8080", accept-encoding:"gzip, deflate, br", connection:"keep-alive", content-length:"784", Content-Type:"application/json;charset=UTF-8"], payload={
  "customerId": 1,
  "accountId": 1,
  "monthlyIncome": 3000000,
  "occupation": "Engineer",
  "loanTypeId": 1,
  "desiredLoanAmount": 50000000,
  "desiredLoanTermMonths": 12,
  "repaymentMethod": "EQUAL_INSTALLMENTS",
  "desiredDisbursementDate": "2024-10-01",
  "interestRateType": "FIXED",
  "loanPurpose": "Home renovation",
  "creditScore": 700,
  "submissionDate": "2024-09-25",
  "applicationStatus": "PENDING",
  "reviewDueDate": "2024-10-10",
  "reviewDate": null,
  "reviewNotes": null,
  "collateralDto": {
    "loanId": null,
    "loanApplicationId": null,
    "collateralType": "House",
    "collateralValue": 100000000,
    "description": "Family house",
    "status": "ACTIVE",
    "reclaimDate": null,
    "reasonForReclamation": null,
    "releaseDate": null
  }
}
]
2024-09-26T12:09:58.674+07:00  INFO 32222 --- [banking-loan-service] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-09-26T12:09:58.885+07:00  INFO 32222 --- [banking-loan-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-09-26T12:09:59.283+07:00  INFO 32222 --- [banking-loan-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-09-26T12:10:25.792+07:00  INFO 33512 --- [banking-loan-service] [main] c.a.b.BankingLoanServiceApplication      : Starting BankingLoanServiceApplication using Java 21.0.4 with PID 33512 (/home/admin-klb/Dropbox/Project/Bank Account Management System Project/microservices-core-banking/banking-loan-service/build/classes/java/main started by admin-klb in /home/admin-klb/Dropbox/Project/Bank Account Management System Project/microservices-core-banking/banking-loan-service)
2024-09-26T12:10:25.794+07:00  INFO 33512 --- [banking-loan-service] [main] c.a.b.BankingLoanServiceApplication      : No active profile set, falling back to 1 default profile: "default"
2024-09-26T12:10:26.287+07:00  INFO 33512 --- [banking-loan-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-09-26T12:10:26.368+07:00  INFO 33512 --- [banking-loan-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 75 ms. Found 4 JPA repository interfaces.
2024-09-26T12:10:26.492+07:00  INFO 33512 --- [banking-loan-service] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=a758a09a-b58c-370e-bbba-9b5c0a6d6b99
2024-09-26T12:10:26.735+07:00  INFO 33512 --- [banking-loan-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-09-26T12:10:26.742+07:00  INFO 33512 --- [banking-loan-service] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-09-26T12:10:26.743+07:00  INFO 33512 --- [banking-loan-service] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.28]
2024-09-26T12:10:26.781+07:00  INFO 33512 --- [banking-loan-service] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-09-26T12:10:26.782+07:00  INFO 33512 --- [banking-loan-service] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 961 ms
2024-09-26T12:10:26.806+07:00 DEBUG 33512 --- [banking-loan-service] [main] o.s.w.f.CommonsRequestLoggingFilter      : Filter 'logFilter' configured for use
2024-09-26T12:10:26.866+07:00  INFO 33512 --- [banking-loan-service] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-09-26T12:10:26.908+07:00  INFO 33512 --- [banking-loan-service] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2024-09-26T12:10:26.926+07:00  INFO 33512 --- [banking-loan-service] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-09-26T12:10:27.221+07:00  INFO 33512 --- [banking-loan-service] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-09-26T12:10:27.236+07:00  INFO 33512 --- [banking-loan-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-09-26T12:10:27.576+07:00  INFO 33512 --- [banking-loan-service] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@33fec21
2024-09-26T12:10:27.577+07:00  INFO 33512 --- [banking-loan-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-09-26T12:10:28.372+07:00  INFO 33512 --- [banking-loan-service] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-09-26T12:10:28.960+07:00  INFO 33512 --- [banking-loan-service] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-09-26T12:10:29.156+07:00  INFO 33512 --- [banking-loan-service] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-09-26T12:10:29.488+07:00  WARN 33512 --- [banking-loan-service] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-09-26T12:10:29.959+07:00  INFO 33512 --- [banking-loan-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-09-26T12:10:30.271+07:00  INFO 33512 --- [banking-loan-service] [main] c.a.b.BankingLoanServiceApplication      : Started BankingLoanServiceApplication in 4.978 seconds (process running for 8.934)
2024-09-26T12:10:40.292+07:00  INFO 33512 --- [banking-loan-service] [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-09-26T12:10:40.293+07:00  INFO 33512 --- [banking-loan-service] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-09-26T12:10:40.294+07:00  INFO 33512 --- [banking-loan-service] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-09-26T12:10:40.306+07:00 DEBUG 33512 --- [banking-loan-service] [http-nio-8080-exec-2] o.s.w.f.CommonsRequestLoggingFilter      : Before request [POST /loan-applications, client=0:0:0:0:0:0:0:1, headers=[user-agent:"PostmanRuntime/7.42.0", accept:"*/*", postman-token:"1bc9ebff-4a07-43bc-93fc-757989f80c01", host:"localhost:8080", accept-encoding:"gzip, deflate, br", connection:"keep-alive", content-length:"784", Content-Type:"application/json;charset=UTF-8"]]
2024-09-26T12:10:40.399+07:00  INFO 33512 --- [banking-loan-service] [http-nio-8080-exec-2] c.a.b.s.impl.LoanApplicationServiceImpl  : LoanApplicationRequestDto: LoanApplicationRequestDto(customerId=1, accountId=1, monthlyIncome=3000000, occupation=Engineer, loanTypeId=1, desiredLoanAmount=50000000, desiredLoanTermMonths=12, repaymentMethod=EQUAL_INSTALLMENTS, desiredDisbursementDate=2024-10-01, interestRateType=FIXED, loanPurpose=Home renovation, collateralDto=com.app.bankingloanservice.dto.CollateralDto@55b8c445)
2024-09-26T12:10:40.478+07:00  INFO 33512 --- [banking-loan-service] [http-nio-8080-exec-2] c.a.b.s.impl.LoanApplicationServiceImpl  : LoanApplication entity is converted from DTO and LoanType updated: LoanApplication(loanApplicationId=null, customerId=1, accountId=1, monthlyIncome=3000000, occupation=Engineer, loanType=LoanType(loanTypeId=1, loanTypeName=Vay nhu cầu nhà ở, annualInterestRate=7.50, pastDueInterestRate=10.00, latePaymentInterestRate=12.00, prepaymentPenaltyRate=2.00, maxLoanAmount=1000000000, maxLoanTermMonths=240, requiresCollateral=true, reviewTimeDays=5, description=Khoản vay dùng để mua nhà ở, hỗ trợ người vay trong việc có được ngôi nhà mơ ước., isActive=true, loanApplications=[], loans=[]), desiredLoanAmount=50000000, desiredLoanTermMonths=12, repaymentMethod=EQUAL_INSTALLMENTS, desiredDisbursementDate=2024-10-01, interestRateType=FIXED, loanPurpose=Home renovation, creditScore=null, applicationStatus=PENDING, submissionDate=2024-09-26, reviewDueDate=null, reviewDate=null, reviewNotes=null, loan=null, documents=null, collateral=null)
2024-09-26T12:10:40.546+07:00  INFO 33512 --- [banking-loan-service] [http-nio-8080-exec-2] c.a.b.s.impl.LoanApplicationServiceImpl  : LoanApplication entity has been saved: LoanApplication(loanApplicationId=7, customerId=1, accountId=1, monthlyIncome=3000000, occupation=Engineer, loanType=LoanType(loanTypeId=1, loanTypeName=Vay nhu cầu nhà ở, annualInterestRate=7.50, pastDueInterestRate=10.00, latePaymentInterestRate=12.00, prepaymentPenaltyRate=2.00, maxLoanAmount=1000000000, maxLoanTermMonths=240, requiresCollateral=true, reviewTimeDays=5, description=Khoản vay dùng để mua nhà ở, hỗ trợ người vay trong việc có được ngôi nhà mơ ước., isActive=true, loanApplications=[], loans=[]), desiredLoanAmount=50000000, desiredLoanTermMonths=12, repaymentMethod=EQUAL_INSTALLMENTS, desiredDisbursementDate=2024-10-01, interestRateType=FIXED, loanPurpose=Home renovation, creditScore=null, applicationStatus=PENDING, submissionDate=2024-09-26, reviewDueDate=null, reviewDate=null, reviewNotes=null, loan=null, documents=null, collateral=null)
2024-09-26T12:10:40.552+07:00  INFO 33512 --- [banking-loan-service] [http-nio-8080-exec-2] c.a.b.s.impl.CollateralServiceImpl       : Saving collateral for Loan Application ID: 7
2024-09-26T12:10:40.559+07:00  INFO 33512 --- [banking-loan-service] [http-nio-8080-exec-2] c.a.b.s.impl.LoanApplicationServiceImpl  : Collateral created successfully
2024-09-26T12:10:40.559+07:00  INFO 33512 --- [banking-loan-service] [http-nio-8080-exec-2] c.a.b.s.impl.LoanApplicationServiceImpl  : Setting review due date to 2024-10-01
2024-09-26T12:10:40.598+07:00 DEBUG 33512 --- [banking-loan-service] [http-nio-8080-exec-2] o.s.w.f.CommonsRequestLoggingFilter      : REQUEST DATA : POST /loan-applications, client=0:0:0:0:0:0:0:1, headers=[user-agent:"PostmanRuntime/7.42.0", accept:"*/*", postman-token:"1bc9ebff-4a07-43bc-93fc-757989f80c01", host:"localhost:8080", accept-encoding:"gzip, deflate, br", connection:"keep-alive", content-length:"784", Content-Type:"application/json;charset=UTF-8"], payload={
  "customerId": 1,
  "accountId": 1,
  "monthlyIncome": 3000000,
  "occupation": "Engineer",
  "loanTypeId": 1,
  "desiredLoanAmount": 50000000,
  "desiredLoanTermMonths": 12,
  "repaymentMethod": "EQUAL_INSTALLMENTS",
  "desiredDisbursementDate": "2024-10-01",
  "interestRateType": "FIXED",
  "loanPurpose": "Home renovation",
  "creditScore": 700,
  "submissionDate": "2024-09-25",
  "applicationStatus": "PENDING",
  "reviewDueDate": "2024-10-10",
  "reviewDate": null,
  "reviewNotes": null,
  "collateralDto": {
    "loanId": null,
    "loanApplicationId": null,
    "collateralType": "House",
    "collateralValue": 100000000,
    "description": "Family house",
    "status": "ACTIVE",
    "reclaimDate": null,
    "reasonForReclamation": null,
    "releaseDate": null
  }
}
]
2024-09-26T12:18:36.300+07:00  INFO 33512 --- [banking-loan-service] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-09-26T12:18:36.607+07:00  INFO 33512 --- [banking-loan-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-09-26T12:18:37.958+07:00  INFO 33512 --- [banking-loan-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-09-26T12:18:59.918+07:00  INFO 34245 --- [banking-loan-service] [main] c.a.b.BankingLoanServiceApplication      : Starting BankingLoanServiceApplication using Java 21.0.4 with PID 34245 (/home/admin-klb/Dropbox/Project/Bank Account Management System Project/microservices-core-banking/banking-loan-service/build/classes/java/main started by admin-klb in /home/admin-klb/Dropbox/Project/Bank Account Management System Project/microservices-core-banking/banking-loan-service)
2024-09-26T12:18:59.919+07:00  INFO 34245 --- [banking-loan-service] [main] c.a.b.BankingLoanServiceApplication      : No active profile set, falling back to 1 default profile: "default"
2024-09-26T12:19:00.609+07:00  INFO 34245 --- [banking-loan-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-09-26T12:19:00.644+07:00  INFO 34245 --- [banking-loan-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 28 ms. Found 4 JPA repository interfaces.
2024-09-26T12:19:00.739+07:00  INFO 34245 --- [banking-loan-service] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=a758a09a-b58c-370e-bbba-9b5c0a6d6b99
2024-09-26T12:19:00.994+07:00  INFO 34245 --- [banking-loan-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-09-26T12:19:01.001+07:00  INFO 34245 --- [banking-loan-service] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-09-26T12:19:01.001+07:00  INFO 34245 --- [banking-loan-service] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.28]
2024-09-26T12:19:01.042+07:00  INFO 34245 --- [banking-loan-service] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-09-26T12:19:01.042+07:00  INFO 34245 --- [banking-loan-service] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1088 ms
2024-09-26T12:19:01.072+07:00 DEBUG 34245 --- [banking-loan-service] [main] o.s.w.f.CommonsRequestLoggingFilter      : Filter 'logFilter' configured for use
2024-09-26T12:19:01.135+07:00  INFO 34245 --- [banking-loan-service] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-09-26T12:19:01.177+07:00  INFO 34245 --- [banking-loan-service] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2024-09-26T12:19:01.198+07:00  INFO 34245 --- [banking-loan-service] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-09-26T12:19:01.551+07:00  INFO 34245 --- [banking-loan-service] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-09-26T12:19:01.574+07:00  INFO 34245 --- [banking-loan-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-09-26T12:19:02.113+07:00  INFO 34245 --- [banking-loan-service] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@291cbe70
2024-09-26T12:19:02.114+07:00  INFO 34245 --- [banking-loan-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-09-26T12:19:03.039+07:00  INFO 34245 --- [banking-loan-service] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-09-26T12:19:03.850+07:00  INFO 34245 --- [banking-loan-service] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-09-26T12:19:04.057+07:00  INFO 34245 --- [banking-loan-service] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-09-26T12:19:04.342+07:00  WARN 34245 --- [banking-loan-service] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-09-26T12:19:05.007+07:00  INFO 34245 --- [banking-loan-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-09-26T12:19:05.463+07:00  INFO 34245 --- [banking-loan-service] [main] c.a.b.BankingLoanServiceApplication      : Started BankingLoanServiceApplication in 8.89 seconds (process running for 9.463)
2024-09-26T12:20:10.037+07:00  INFO 34245 --- [banking-loan-service] [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-09-26T12:20:10.038+07:00  INFO 34245 --- [banking-loan-service] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-09-26T12:20:10.039+07:00  INFO 34245 --- [banking-loan-service] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-09-26T12:20:10.100+07:00 DEBUG 34245 --- [banking-loan-service] [http-nio-8080-exec-2] o.s.w.f.CommonsRequestLoggingFilter      : Before request [GET /loan-applications/7, client=0:0:0:0:0:0:0:1, headers=[user-agent:"PostmanRuntime/7.42.0", accept:"*/*", postman-token:"013ec031-62b7-44d8-a405-f05c097ecd58", host:"localhost:8080", accept-encoding:"gzip, deflate, br", connection:"keep-alive"]]
2024-09-26T12:20:10.378+07:00 DEBUG 34245 --- [banking-loan-service] [http-nio-8080-exec-2] o.s.w.f.CommonsRequestLoggingFilter      : REQUEST DATA : GET /loan-applications/7, client=0:0:0:0:0:0:0:1, headers=[user-agent:"PostmanRuntime/7.42.0", accept:"*/*", postman-token:"013ec031-62b7-44d8-a405-f05c097ecd58", host:"localhost:8080", accept-encoding:"gzip, deflate, br", connection:"keep-alive"]]
2024-09-26T12:20:42.669+07:00 DEBUG 34245 --- [banking-loan-service] [http-nio-8080-exec-3] o.s.w.f.CommonsRequestLoggingFilter      : Before request [GET /loan-applications/7, client=0:0:0:0:0:0:0:1, headers=[user-agent:"PostmanRuntime/7.42.0", accept:"*/*", postman-token:"4946b003-7300-4b46-8745-a53c4ed3ab88", host:"localhost:8080", accept-encoding:"gzip, deflate, br", connection:"keep-alive", Content-Type:"application/json;charset=UTF-8"]]
2024-09-26T12:20:42.676+07:00 DEBUG 34245 --- [banking-loan-service] [http-nio-8080-exec-3] o.s.w.f.CommonsRequestLoggingFilter      : REQUEST DATA : GET /loan-applications/7, client=0:0:0:0:0:0:0:1, headers=[user-agent:"PostmanRuntime/7.42.0", accept:"*/*", postman-token:"4946b003-7300-4b46-8745-a53c4ed3ab88", host:"localhost:8080", accept-encoding:"gzip, deflate, br", connection:"keep-alive", Content-Type:"application/json;charset=UTF-8"]]
2024-09-26T12:57:56.747+07:00  INFO 34245 --- [banking-loan-service] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-09-26T12:57:57.041+07:00  INFO 34245 --- [banking-loan-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-09-26T12:57:57.248+07:00  INFO 34245 --- [banking-loan-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-09-26T12:58:11.589+07:00  INFO 39759 --- [banking-loan-service] [main] c.a.b.BankingLoanServiceApplication      : Starting BankingLoanServiceApplication using Java 21.0.4 with PID 39759 (/home/admin-klb/Dropbox/Project/Bank Account Management System Project/microservices-core-banking/banking-loan-service/build/classes/java/main started by admin-klb in /home/admin-klb/Dropbox/Project/Bank Account Management System Project/microservices-core-banking/banking-loan-service)
2024-09-26T12:58:11.593+07:00  INFO 39759 --- [banking-loan-service] [main] c.a.b.BankingLoanServiceApplication      : No active profile set, falling back to 1 default profile: "default"
2024-09-26T12:58:12.514+07:00  INFO 39759 --- [banking-loan-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-09-26T12:58:12.552+07:00  INFO 39759 --- [banking-loan-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 32 ms. Found 4 JPA repository interfaces.
2024-09-26T12:58:12.642+07:00  INFO 39759 --- [banking-loan-service] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=a758a09a-b58c-370e-bbba-9b5c0a6d6b99
2024-09-26T12:58:12.889+07:00  INFO 39759 --- [banking-loan-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-09-26T12:58:12.896+07:00  INFO 39759 --- [banking-loan-service] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-09-26T12:58:12.896+07:00  INFO 39759 --- [banking-loan-service] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.28]
2024-09-26T12:58:12.953+07:00  INFO 39759 --- [banking-loan-service] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-09-26T12:58:12.954+07:00  INFO 39759 --- [banking-loan-service] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1236 ms
2024-09-26T12:58:13.021+07:00 DEBUG 39759 --- [banking-loan-service] [main] o.s.w.f.CommonsRequestLoggingFilter      : Filter 'logFilter' configured for use
2024-09-26T12:58:13.121+07:00  INFO 39759 --- [banking-loan-service] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-09-26T12:58:13.239+07:00  INFO 39759 --- [banking-loan-service] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2024-09-26T12:58:13.276+07:00  INFO 39759 --- [banking-loan-service] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-09-26T12:58:13.623+07:00  INFO 39759 --- [banking-loan-service] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-09-26T12:58:13.650+07:00  INFO 39759 --- [banking-loan-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-09-26T12:58:13.986+07:00  INFO 39759 --- [banking-loan-service] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@74badf19
2024-09-26T12:58:13.988+07:00  INFO 39759 --- [banking-loan-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-09-26T12:58:14.741+07:00  INFO 39759 --- [banking-loan-service] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-09-26T12:58:15.812+07:00  INFO 39759 --- [banking-loan-service] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-09-26T12:58:16.012+07:00  INFO 39759 --- [banking-loan-service] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-09-26T12:58:16.294+07:00  WARN 39759 --- [banking-loan-service] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-09-26T12:58:16.767+07:00  INFO 39759 --- [banking-loan-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-09-26T12:58:17.027+07:00  INFO 39759 --- [banking-loan-service] [main] c.a.b.BankingLoanServiceApplication      : Started BankingLoanServiceApplication in 6.004 seconds (process running for 6.793)
2024-09-26T12:58:24.328+07:00  INFO 39759 --- [banking-loan-service] [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-09-26T12:58:24.328+07:00  INFO 39759 --- [banking-loan-service] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-09-26T12:58:24.330+07:00  INFO 39759 --- [banking-loan-service] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-09-26T12:58:24.342+07:00 DEBUG 39759 --- [banking-loan-service] [http-nio-8080-exec-2] o.s.w.f.CommonsRequestLoggingFilter      : Before request [GET /loan-applications/7, client=0:0:0:0:0:0:0:1, headers=[user-agent:"PostmanRuntime/7.42.0", accept:"*/*", postman-token:"6c54cc66-d34c-4efd-aac1-c1e911edf5ab", host:"localhost:8080", accept-encoding:"gzip, deflate, br", connection:"keep-alive", Content-Type:"application/json;charset=UTF-8"]]
2024-09-26T12:58:24.487+07:00 DEBUG 39759 --- [banking-loan-service] [http-nio-8080-exec-2] o.s.w.f.CommonsRequestLoggingFilter      : REQUEST DATA : GET /loan-applications/7, client=0:0:0:0:0:0:0:1, headers=[user-agent:"PostmanRuntime/7.42.0", accept:"*/*", postman-token:"6c54cc66-d34c-4efd-aac1-c1e911edf5ab", host:"localhost:8080", accept-encoding:"gzip, deflate, br", connection:"keep-alive", Content-Type:"application/json;charset=UTF-8"]]
2024-09-26T13:00:39.962+07:00  INFO 39759 --- [banking-loan-service] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-09-26T13:00:39.964+07:00  INFO 39759 --- [banking-loan-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-09-26T13:00:40.286+07:00  INFO 39759 --- [banking-loan-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-09-26T13:00:51.888+07:00  INFO 40200 --- [banking-loan-service] [main] c.a.b.BankingLoanServiceApplication      : Starting BankingLoanServiceApplication using Java 21.0.4 with PID 40200 (/home/admin-klb/Dropbox/Project/Bank Account Management System Project/microservices-core-banking/banking-loan-service/build/classes/java/main started by admin-klb in /home/admin-klb/Dropbox/Project/Bank Account Management System Project/microservices-core-banking/banking-loan-service)
2024-09-26T13:00:51.889+07:00  INFO 40200 --- [banking-loan-service] [main] c.a.b.BankingLoanServiceApplication      : No active profile set, falling back to 1 default profile: "default"
2024-09-26T13:00:52.683+07:00  INFO 40200 --- [banking-loan-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-09-26T13:00:52.742+07:00  INFO 40200 --- [banking-loan-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 47 ms. Found 4 JPA repository interfaces.
2024-09-26T13:00:52.911+07:00  INFO 40200 --- [banking-loan-service] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=a758a09a-b58c-370e-bbba-9b5c0a6d6b99
2024-09-26T13:00:53.301+07:00  INFO 40200 --- [banking-loan-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-09-26T13:00:53.309+07:00  INFO 40200 --- [banking-loan-service] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-09-26T13:00:53.310+07:00  INFO 40200 --- [banking-loan-service] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.28]
2024-09-26T13:00:53.358+07:00  INFO 40200 --- [banking-loan-service] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-09-26T13:00:53.358+07:00  INFO 40200 --- [banking-loan-service] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1386 ms
2024-09-26T13:00:53.390+07:00 DEBUG 40200 --- [banking-loan-service] [main] o.s.w.f.CommonsRequestLoggingFilter      : Filter 'logFilter' configured for use
2024-09-26T13:00:53.458+07:00  INFO 40200 --- [banking-loan-service] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-09-26T13:00:53.519+07:00  INFO 40200 --- [banking-loan-service] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2024-09-26T13:00:53.548+07:00  INFO 40200 --- [banking-loan-service] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-09-26T13:00:53.925+07:00  INFO 40200 --- [banking-loan-service] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-09-26T13:00:53.943+07:00  INFO 40200 --- [banking-loan-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-09-26T13:00:54.218+07:00  INFO 40200 --- [banking-loan-service] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@74badf19
2024-09-26T13:00:54.220+07:00  INFO 40200 --- [banking-loan-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-09-26T13:00:55.067+07:00  INFO 40200 --- [banking-loan-service] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-09-26T13:00:55.372+07:00  INFO 40200 --- [banking-loan-service] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-09-26T13:00:55.696+07:00  INFO 40200 --- [banking-loan-service] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-09-26T13:00:56.023+07:00  WARN 40200 --- [banking-loan-service] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-09-26T13:00:56.539+07:00  INFO 40200 --- [banking-loan-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-09-26T13:00:56.752+07:00  INFO 40200 --- [banking-loan-service] [main] c.a.b.BankingLoanServiceApplication      : Started BankingLoanServiceApplication in 5.53 seconds (process running for 6.342)
2024-09-26T13:01:04.876+07:00  INFO 40200 --- [banking-loan-service] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-09-26T13:01:04.876+07:00  INFO 40200 --- [banking-loan-service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-09-26T13:01:04.877+07:00  INFO 40200 --- [banking-loan-service] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2024-09-26T13:01:04.892+07:00 DEBUG 40200 --- [banking-loan-service] [http-nio-8080-exec-1] o.s.w.f.CommonsRequestLoggingFilter      : Before request [GET /loan-applications/7, client=0:0:0:0:0:0:0:1, headers=[user-agent:"PostmanRuntime/7.42.0", accept:"*/*", postman-token:"9bd9e4c9-a096-4e4c-b5e3-1e2e3a93697f", host:"localhost:8080", accept-encoding:"gzip, deflate, br", connection:"keep-alive", Content-Type:"application/json;charset=UTF-8"]]
2024-09-26T13:01:05.100+07:00 DEBUG 40200 --- [banking-loan-service] [http-nio-8080-exec-1] o.s.w.f.CommonsRequestLoggingFilter      : REQUEST DATA : GET /loan-applications/7, client=0:0:0:0:0:0:0:1, headers=[user-agent:"PostmanRuntime/7.42.0", accept:"*/*", postman-token:"9bd9e4c9-a096-4e4c-b5e3-1e2e3a93697f", host:"localhost:8080", accept-encoding:"gzip, deflate, br", connection:"keep-alive", Content-Type:"application/json;charset=UTF-8"]]
2024-09-26T13:01:24.583+07:00  INFO 40200 --- [banking-loan-service] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-09-26T13:01:24.584+07:00  INFO 40200 --- [banking-loan-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-09-26T13:01:24.692+07:00  INFO 40200 --- [banking-loan-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
